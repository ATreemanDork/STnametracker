(index):1 The Cross-Origin-Opener-Policy header has been ignored, because the URL's origin was untrustworthy. It was defined either in the final response or a redirect. Please deliver the response using the HTTPS protocol. You can also use the 'localhost' origin instead. See https://www.w3.org/TR/powerful-features/#potentially-trustworthy-origin and https://html.spec.whatwg.org/#the-cross-origin-opener-policy-header.
(index):1 The page requested an origin-keyed agent cluster using the Origin-Agent-Cluster header, but could not be origin-keyed since the origin 'http://192.168.0.4:8008' had previously been placed in a site-keyed agent cluster. Update your headers to uniformly request origin-keying for all pages on the origin.
(index):1 [DOM] Password field is not contained in a form: (More info: https://goo.gl/9p2vKq) 
 User Agent Object
 No input elements found for key: api_key_comfy_runpod
updateInputDataLists @ secrets.js:534
 Unsupported language: en-us
findLang @ i18n.js:143
 Registering preset manager for API: kobold
 Registering preset manager for API: novel
 Registering preset manager for API: openai
 Registering preset manager for API: textgenerationwebui
 Registering preset manager for API: context
 Registering preset manager for API: instruct
 Registering preset manager for API: sysprompt
 Registering preset manager for API: reasoning
 Event emitted: settings_loaded_before
 Preset samplers order: 6,0,1,2,3,4,5
 Preset samplers order: 1,5,0,2,3,4
 Text Completions: loading selected samplers
 Preset samplers order: 6,0,1,3,4,2,5
 Preset samplers order:  Array(20)
 Preset samplers order:  Array(12)
 Preset samplers order:  Array(14)
 Event emitted: chatcompletion_model_changed
 Event emitted: chatcompletion_source_changed
 poweruser.chat_display 0
 applying default chat
 aborting MUI reset 0
 aborting MUI reset 0
 Setting context_story_string to {{#if anchorBefore}}{{anchorBefore}}
{{/if}}{{#if system}}{{system}}
{{/if}}{{#if wiBefore}}{{wiBefore}}
{{/if}}{{#if description}}{{description}}
{{/if}}{{#if personality}}{{char}}'s personality: {{personality}}
{{/if}}{{#if scenario}}Scenario: {{scenario}}
{{/if}}{{#if wiAfter}}{{wiAfter}}
{{/if}}{{#if persona}}{{persona}}
{{/if}}{{#if anchorAfter}}{{anchorAfter}}
{{/if}}


 Setting context_example_separator to 
 Setting context_chat_start to 
 Setting context_use_stop_strings to false
 Setting context_names_as_stop_strings to true
 Setting context_story_string_position to 0
 Setting context_story_string_position to 0
 Setting context_story_string_depth to 1
 Setting context_story_string_role to 0
 skipping movingUI state load
 Event emitted: settings_loaded_after
 enabling amount_gen for ooba/novel
 value? textgenerationwebui
 returning full samplers array
 Event emitted: extensions_first_load
 Activating extension translate
 Activating extension connection-manager
 Activating extension third-party/Extension-CustomSliders
 Activating extension regex
 Activating extension attachments
 Activating extension third-party/Extension-Objective
 Activating extension gallery
extensions.js:447 Activating extension memory
index.js:198 No current task
extensions.js:447 Activating extension third-party/SillyTavern-Timelines
index.js:973 Summary has no content
index.js:973 Summary has no content
index.js:973 Summary has no content
index.js:973 Summary has no content
extensions.js:447 Activating extension third-party/STnametracker
power-user.js:3288 Window resize: 5120x1271 -> 5120x1271
power-user.js:3289 Zoom: 1.5, X:5120, Y:1271, original: 7680x1906.5 
debug.js:61 [STnametracker:Notifications] 1:51:33 AM Notifications module loaded
debug.js:61 [STnametracker:Utils] 1:51:33 AM Utils module loaded
lorebook.js:9 [LOREBOOK] Starting module load...
lorebook.js:22 [LOREBOOK] Imports completed. Types:
lorebook.js:23 [LOREBOOK] createModuleLogger: function
lorebook.js:24 [LOREBOOK] withErrorBoundary: function
lorebook.js:25 [LOREBOOK] NameTrackerError: function
lorebook.js:30 [LOREBOOK] About to call createModuleLogger...
lorebook.js:32 [LOREBOOK] Debug logger created successfully: Object
index.js:27 [STnametracker] Main index.js: Import validation
index.js:28 [STnametracker] Main index.js: initializeUIHandlers import = function ∆í initializeUIHandlers() {
    return (0,errors/* withErrorBoundary */.Xc)('initializeUIHandlers', () => {
        // Character action handlers
        $(document).on('click', '.char-action-merge', asy‚Ä¶
index.js:29 [STnametracker] Main index.js: initializeMenuButtons import = function ∆í initializeMenuButtons() {
    return (0,errors/* withErrorBoundary */.Xc)('initializeMenuButtons', async () => {
        // Add toggle auto-harvest button with visual state
        const autoAnalyze ‚Ä¶
index.js:30 [STnametracker] Main index.js: bindSettingsHandlers import = function ∆í bindSettingsHandlers() {
    return (0,errors/* withErrorBoundary */.Xc)('bindSettingsHandlers', () => {
        // Main settings handlers
        $('#name_tracker_enabled').on('input', async (event)‚Ä¶
index.js:31 [STnametracker] Main index.js: updateUI import = function async ∆í updateUI() {
    return (0,errors/* withErrorBoundary */.Xc)('updateUI', async () => {
        // Update all form elements with current settings
        $('#name_tracker_enabled').prop('checked', (0,‚Ä¶
extensions.js:447 Activating extension tts
index.js:302 [STnametracker] jQuery ready, starting extension load...
index.js:304 [STnametracker] Logger available, initializing...
debug.js:64 [STnametracker:Main] 1:51:33 AM Name Tracker Extension loading...
index.js:308 [STnametracker] Setting up extension_settings...
index.js:310 [STnametracker] Creating window.extension_settings
index.js:313 [STnametracker] Current extension_settings keys: Array(0)
index.js:317 [STnametracker] Initializing defaults...
settings.js:100 [STnametracker] extension_settings not yet available, using defaults
_errors_js__WEBPACK_IMPORTED_MODULE_0__.r_.withErrorBoundary @ settings.js:100
index.js:319 [STnametracker] Settings initialized with defaults. llmSource: sillytavern
index.js:320 [STnametracker] Extension settings keys after init: Array(0)
index.js:322 [STnametracker] Starting main initialization...
index.js:66 [STnametracker] Enter initialize() method
index.js:68 [STnametracker] Inside error boundary
index.js:74 [STnametracker] Starting initialization sequence
debug.js:64 [STnametracker:Main] 1:51:33 AM Starting Name Tracker Extension v2.1.0
index.js:78 [STnametracker] Step 1: Initializing core systems...
index.js:117 [STnametracker] initializeCore: Starting...
debug.js:61 [STnametracker:Main] 1:51:33 AM Initializing core systems...
index.js:121 [STnametracker] initializeCore: Connecting debug system...
index.js:123 [STnametracker] initializeCore: Debug system connected
index.js:126 [STnametracker] initializeCore: Settings ready
debug.js:61 [STnametracker:ErrorHandler] 1:51:33 AM Registered recovery strategy for: NETWORK_ERROR
debug.js:61 [STnametracker:ErrorHandler] 1:51:33 AM Registered recovery strategy for: DATA_FORMAT_ERROR
debug.js:61 [STnametracker:Main] 1:51:33 AM Core systems initialized
index.js:80 [STnametracker] Step 1: Core systems completed
index.js:83 [STnametracker] Step 2: Initializing feature modules...
debug.js:61 [STnametracker:Main] 1:51:33 AM Initializing feature modules...
index.js:140 [STnametracker] initializeModules: Module initialization skipped
index.js:141 [STnametracker] initializeModules: Lorebook will be initialized when first needed
debug.js:61 [STnametracker:Main] 1:51:33 AM Feature modules ready (lazy initialization)
index.js:85 [STnametracker] Step 2: Feature modules completed
index.js:88 [STnametracker] Step 3: Initializing UI...
index.js:156 [STnametracker] initializeUI: Starting UI initialization...
debug.js:61 [STnametracker:Main] 1:51:33 AM Initializing UI...
index.js:161 [STnametracker] initializeUI: Loading settings HTML from: scripts/extensions/third-party/STnametracker/settings.html
index.js:163 [STnametracker] initializeUI: Settings HTML loaded, length: 8675
index.js:165 [STnametracker] initializeUI: Finding #extensions_settings element...
index.js:167 [STnametracker] initializeUI: Target element found: true
index.js:170 [STnametracker] initializeUI: Settings HTML appended
index.js:173 [STnametracker] initializeUI: Initializing UI handlers...
debug.js:64 [STnametracker:ui] 1:51:33 AM
index.js:175 [STnametracker] initializeUI: UI handlers initialized
index.js:177 [STnametracker] initializeUI: Initializing menu buttons...
debug.js:64 [STnametracker:ui] 1:51:33 AM
index.js:179 [STnametracker] initializeUI: Menu buttons initialized
index.js:182 [STnametracker] initializeUI: Binding settings handlers...
debug.js:64 [STnametracker:ui] 1:51:33 AM
index.js:184 [STnametracker] initializeUI: Settings handlers bound
index.js:187 [STnametracker] initializeUI: Updating UI...
ui.js:47 [NT-UI] üü° updateCharacterList() called
ui.js:49 [NT-UI] üü° getCharacters() returned: Array(0)
ui.js:51 [NT-UI] üü° Character count: 0
ui.js:162 [NT-Status] Characters: 0, Messages: 0, LastScanned: -1, Pending: 1
debug.js:64 [STnametracker:ui] 1:51:33 AM
index.js:189 [STnametracker] initializeUI: UI updated
debug.js:61 [STnametracker:Main] 1:51:33 AM UI initialized
index.js:90 [STnametracker] Step 3: UI completed
index.js:93 [STnametracker] Step 4: Registering event listeners...
debug.js:61 [STnametracker:Main] 1:51:33 AM Registering event listeners...
debug.js:61 [STnametracker:Main] 1:51:33 AM Event listeners registered
index.js:95 [STnametracker] Step 4: Event listeners completed
index.js:98 [STnametracker] Marking as initialized
debug.js:64 [STnametracker:Main] 1:51:33 AM Name Tracker Extension initialized successfully
index.js:100 [STnametracker] Full initialization sequence completed successfully
index.js:324 [STnametracker] Main initialization completed
debug.js:64 [STnametracker:Main] 1:51:33 AM Name Tracker Extension loaded successfully
index.js:339 [STnametracker] Extension loaded. Use ntDebug.status() for diagnostics.
extensions.js:447 Activating extension quick-reply
system.js:121 Using default TTS Provider settings
system.js:159 SystemTTS: Settings loaded
extensions.js:447 Activating extension assets
extensions.js:447 Activating extension token-counter
extensions.js:447 Activating extension third-party/Extension-DupeFinder
extensions.js:447 Activating extension third-party/Extension-TopInfoBar
index.js:21 [QR2] sets:  Array(1)
index.js:21 [QR2] settings:  QuickReplySettings
jquery-highlight.js:7 Patching jQuery highlight
extensions.js:447 Activating extension third-party/SillyTavern-LandingPage
index.js:14 [STL] LandingPage.updateBgresultList
index.js:14 [STL] LandingPage.updateBgresultList COMPLETED
index.js:14 [STL] LANDING
index.js:14 [STL] LandingPage.updateBackground
index.js:14 [STL] LandingPage.updateBgresultList
index.js:14 [STL] LandingPage.updateBgresultList COMPLETED
index.js:14 [STL] no bg true
extensions.js:447 Activating extension third-party/Extension-Notebook
extensions.js:447 Activating extension third-party/Extension-QuickPersona
extensions.js:447 Activating extension vectors
extensions.js:447 Activating extension third-party/SillyTavern-WordFrequency
extensions.js:447 Activating extension third-party/SillyTavern-WorldInfoPresets
extensions.js:447 Activating extension third-party/SillyTavern-Custom-Scenario
eventemitter.js:135 Event emitted: extension_settings_loaded
samplerSelect.js:230 returning full samplers array
eventemitter.js:135 Event emitted: settings_loaded
dynamic-styles.js:147 Failed to insert focus rule: SyntaxError: Failed to execute 'insertRule' on 'CSSStyleSheet': Failed to parse the rule '::-webkit-scrollbar-track:focus-visible { background-color: rgba(126, 126, 126, 0.2); }'.
    at dynamic-styles.js:145:34
    at Array.forEach (<anonymous>)
    at applyDynamicFocusStyles (dynamic-styles.js:118:16)
    at dynamic-styles.js:193:13
    at Array.forEach (<anonymous>)
    at initDynamicStyles (dynamic-styles.js:191:38)
    at firstLoadInit (script.js:703:5)
    at async HTMLDocument.<anonymous> (script.js:12322:5)
(anonymous) @ dynamic-styles.js:147
eventemitter.js:135 Event emitted: settings_updated
eventemitter.js:135 Event emitted: character_page_loaded
tokenizers.js:170 Chat Completions: loading token cache
script.js:1544 saw no avatars
RossAscends-mods.js:776 setting pin class via checkbox state
bulk-edit.js:127 Character context menu initialized CharacterContextMenu
eventemitter.js:135 Event emitted: app_initialized
eventemitter.js:165 Event emitted: online_status_changed
script.js:1481 Rendered 100 messages in 0.081 seconds.
eventemitter.js:135 Event emitted: character_editor_opened
eventemitter.js:135 Event emitted: chat_id_changed
RossAscends-mods.js:467 User Input --  /lore
eventemitter.js:135 Event emitted: app_ready
index.js:20 [QR2] executing startup
index.js:20 [QR2] /executing startup
index.js:20 [QR2] executing queue (0 items)
index.js:20 [QR2] /executing queue
index.js:20 [QR2] READY
world-info.js:4336 [WI] Chat lore has 0 entries Array(1)
eventemitter.js:135 Event emitted: worldinfo_entries_loaded
world-info.js:4413 [WI] Found 0 world lore entries. Sorted by strategy Array(2)
index.js:198 No current task
index.js:973 Summary has no content
debug.js:61 [STnametracker:Main] 1:51:52 AM Chat changed event received
tokenizers.js:180 Chat Completions: saving token cache
index.js:21 [QR2] calling Object
index.js:21 [QR2] CHAT_CHANGED High-Calcium Education  - 2026-01-18@23h56m34s743ms
authors-note.js:337 
    setFloatingPrompt entered
    ------
    lastMessageNumber = 237
    metadata_keys.interval = 1
    metadata_keys.position = 1
    metadata_keys.depth = 4
    metadata_keys.role = 0
    ------
    
personas.js:1524 Using default persona 1757350262564-John.png
eventemitter.js:135 Event emitted: chatLoaded
eventemitter.js:135 Event emitted: settings_updated
power-user.js:3349 aborting MUI reset 0
power-user.js:3288 Window resize: 4022x1271 -> 4022x1271
power-user.js:3289 Zoom: 1.5, X:4022, Y:1271, original: 6033x1906.5 
eventemitter.js:135 Event emitted: settings_updated
processing.js:983 [NT-Processing] üîß Ensuring lorebook is initialized before scan...
lorebook.js:54 [NT-Lorebook] ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
lorebook.js:55 [NT-Lorebook] ‚ïë initializeLorebook() CALLED
lorebook.js:56 [NT-Lorebook] ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
lorebook.js:59 [NT-Lorebook] ‚ïë Inside withErrorBoundary, getting context...
lorebook.js:61 [NT-Lorebook] ‚ïë Got context: true
lorebook.js:62 [NT-Lorebook] ‚ïë context.chatId: High-Calcium Education  - 2026-01-18@23h56m34s743ms
lorebook.js:71 [NT-Lorebook] ‚ïë Active chat detected, proceeding...
lorebook.js:74 [NT-Lorebook] ‚ïë chatMetadata exists?: true
lorebook.js:83 [NT-Lorebook] ‚ïë Checking for existing bound lorebook...
lorebook.js:84 [NT-Lorebook] ‚ïë chatMetadata[world_info]: NameTracker_High-Calcium Education  - 2026-01-18_23h56m34s743ms (1)
lorebook.js:89 [NT-Lorebook] ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
lorebook.js:90 [NT-Lorebook] ‚ïë ‚úÖ EXISTING LOREBOOK FOUND
lorebook.js:91 [NT-Lorebook] ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
lorebook.js:92 [NT-Lorebook] ‚ïë Lorebook Name: NameTracker_High-Calcium Education  - 2026-01-18_23h56m34s743ms (1)
lorebook.js:93 [NT-Lorebook] ‚ïë Module Variable Set: YES
lorebook.js:94 [NT-Lorebook] ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
debug.js:64 [STnametracker:lorebook] 1:52:26 AM Using existing chat lorebook: NameTracker_High-Calcium Education  - 2026-01-18_23h56m34s743ms (1)
debug.js:64 [STnametracker:WorldInfo] 1:52:26 AM Reloaded editor with lorebook: NameTracker_High-Calcium Education  - 2026-01-18_23h56m34s743ms (1)
processing.js:986 [NT-Processing] ‚úÖ Lorebook initialization complete
debug.js:64 [STnametracker:Settings] 1:52:26 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:52:26 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 1:52:26 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:52:26 AM [NT-LLMConfig] extension_settings keys for module: none
llm.js:449 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:449 [NT-MaxContext] Using SillyTavern context
llm.js:449 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:449 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:449 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:449 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:449 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:449 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:449 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:449 [NT-MaxContext] Final detection method: context.maxContext
llm.js:449 [NT-MaxContext] Returning maxPromptLength: 50000
debug.js:64 [STnametracker:Settings] 1:52:28 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:52:28 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 1:52:28 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:52:28 AM [NT-LLMConfig] extension_settings keys for module: none
llm.js:449 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:449 [NT-MaxContext] Using SillyTavern context
llm.js:449 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:449 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:449 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:449 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:449 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:449 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:449 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:449 [NT-MaxContext] Final detection method: context.maxContext
llm.js:449 [NT-MaxContext] Returning maxPromptLength: 50000
debug.js:64 [STnametracker:llm] 1:52:28 AM
llm.js:1293 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1297 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1297
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1299 [NT-Prompt] After await, type: string
llm.js:1310 [NT-Prompt] knownCharacters type: string
llm.js:1322 [NT-Prompt] Final systemPrompt length: 7814
llm.js:1323 [NT-Prompt] Final rosterStr length: 35
llm.js:1324 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
debug.js:64 [STnametracker:llm] 1:52:28 AM
debug.js:64 [STnametracker:llm] 1:52:28 AM Calling LLM with prompt (4597 tokens)...
llm.js:1378 [NT-Prompt] Composition: SYSTEM(7829 chars) + USER(11711 chars) + PREFILL
debug.js:64 [STnametracker:llm] 1:52:28 AM
debug.js:64 [STnametracker:llm] 1:52:28 AM
debug.js:64 [STnametracker:llm] 1:52:28 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 1:52:30 AM
llm.js:822 [NT-ST-Call] üîç Pre-validation checks...
llm.js:828 [NT-ST-Call] ‚ö†Ô∏è Response does not start with { - attempting extraction
(anonymous) @ llm.js:828
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:833 [NT-ST-Call] ‚úÖ Extracted JSON from response
llm.js:1055 [NT-Parse] ========== PARSE START ==========
llm.js:1056 [NT-Parse] Input type: string
llm.js:1057 [NT-Parse] Input is null?: false
llm.js:1058 [NT-Parse] Input is undefined?: false
llm.js:1071 [NT-Parse] Input length: 307
llm.js:1073 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": null,
      "mentalAge": null,
      "physical": null,
      "personality": null,
      "sexuality": null,
      "raceEthnicity": null,
      "roleSkills": null,
      "relationships": [],
      "confidence": 9
llm.js:1074 [NT-Parse] Last 100 chars: eEthnicity": null,
      "roleSkills": null,
      "relationships": [],
      "confidence": 95
    }
llm.js:1085 [NT-Parse] After trim, length: 307
llm.js:1103 [NT-Parse] Brace search: first={0, last=306}
llm.js:1110 [NT-Parse] Text before JSON: 
llm.js:1111 [NT-Parse] Extracted JSON length: 307
llm.js:1112 [NT-Parse] Text after JSON: 
llm.js:979 [NT-Repair] Starting JSON repair...
llm.js:1043 [NT-Repair] Applied repairs, length change: 0
llm.js:1126 [NT-Parse] Before JSON.parse, length: 307
llm.js:1127 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": null,       "personality": null,       "sexuality": null,    
llm.js:1128 [NT-Parse] Last 100 chars: eEthnicity": null,       "roleSkills": null,       "relationships": [],       "confidence": 95
    }
llm.js:1131 [NT-Parse] Attempting JSON.parse...
llm.js:1158 [NT-Parse] ‚ùå JSON.parse failed: Expected ',' or ']' after array element in JSON at position 307 (line 3 column 6)
(anonymous) @ llm.js:1158
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1159 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1159
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1160 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": null,       "personality": null,       "sexuality": null,       "raceEthnicity": null,       "roleSkills": null,       "relationships": [],       "confidence": 95
    }
llm.js:1161 [NT-Parse] Text being parsed (last 200 chars): alAge": null,       "physical": null,       "personality": null,       "sexuality": null,       "raceEthnicity": null,       "roleSkills": null,       "relationships": [],       "confidence": 95
    }
llm.js:1234 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
debug.js:55 [STnametracker:ErrorHandler] 1:52:30 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:879 [NT-ST-Call] ‚ùå Attempt 1/2 failed: Failed to parse LLM response as JSON.
(anonymous) @ llm.js:879
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:880 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
(anonymous) @ llm.js:880
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:885 [NT-ST-Call] Waiting 2000ms (~2s) before retry...
llm.js:888 [NT-ST-Call] Waited 2014ms before next attempt
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 1:52:36 AM
llm.js:822 [NT-ST-Call] üîç Pre-validation checks...
llm.js:828 [NT-ST-Call] ‚ö†Ô∏è Response does not start with { - attempting extraction
(anonymous) @ llm.js:828
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:833 [NT-ST-Call] ‚úÖ Extracted JSON from response
llm.js:843 [NT-ST-Call] ‚ö†Ô∏è Detected potential orphaned strings in response
(anonymous) @ llm.js:843
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:844 [NT-ST-Call] Response will need JSON repair during parsing
llm.js:1055 [NT-Parse] ========== PARSE START ==========
llm.js:1056 [NT-Parse] Input type: string
llm.js:1057 [NT-Parse] Input is null?: false
llm.js:1058 [NT-Parse] Input is undefined?: false
llm.js:1071 [NT-Parse] Input length: 2076
llm.js:1073 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "John",
      "physical": "User character",
      "roleSkills": "College student, appears to be helpful and observant",
      "relationships": ["Jasmine is to John: helper, companion"]
    },
    {
      "name": "Jasmine",
      "aliases": ["Jasmine"],
      "
llm.js:1074 [NT-Parse] Last 100 chars: to Jasmine: dorm resident", "Maya is to Jasmine: dorm resident"],
      "confidence": 85
    }
  ]
}
llm.js:1085 [NT-Parse] After trim, length: 2076
llm.js:1094 [NT-Parse] Found markdown code block, extracting JSON
llm.js:1096 [NT-Parse] After markdown extraction, length: 8
llm.js:1103 [NT-Parse] Brace search: first={-1, last=-1}
llm.js:979 [NT-Repair] Starting JSON repair...
llm.js:1043 [NT-Repair] Applied repairs, length change: 0
llm.js:1126 [NT-Parse] Before JSON.parse, length: 8
llm.js:1127 [NT-Parse] First 200 chars: </think>
llm.js:1128 [NT-Parse] Last 100 chars: </think>
llm.js:1131 [NT-Parse] Attempting JSON.parse...
llm.js:1158 [NT-Parse] ‚ùå JSON.parse failed: Unexpected token '<', "</think>" is not valid JSON
(anonymous) @ llm.js:1158
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1159 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1159
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1160 [NT-Parse] Text being parsed (first 500 chars): </think>
llm.js:1161 [NT-Parse] Text being parsed (last 200 chars): </think>
llm.js:1234 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: JSON parsing failed: Unexpected character found. Check for missing quotes, commas, or control characters.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: JSON parsing failed: Unexpected character found. Check for missing quotes, commas, or control characters.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
debug.js:55 [STnametracker:ErrorHandler] 1:52:36 AM Error in parseJSONResponse: {code: undefined, message: 'JSON parsing failed: Unexpected character found. C‚Ä¶or missing quotes, commas, or control characters.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:879 [NT-ST-Call] ‚ùå Attempt 2/2 failed: JSON parsing failed: Unexpected character found. Check for missing quotes, commas, or control characters.
(anonymous) @ llm.js:879
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:880 [NT-ST-Call] Error details: NameTrackerError: JSON parsing failed: Unexpected character found. Check for missing quotes, commas, or control characters.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
(anonymous) @ llm.js:880
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:61 [STnametracker] Error caught in callSillyTavern: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:909:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
errors.js:74 [STnametracker] All retries failed in callSillyTavern, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:909:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
debug.js:55 [STnametracker:ErrorHandler] 1:52:36 AM Error in callSillyTavern: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:83 [STnametracker] Notifying user of error in callSillyTavern
debug.js:64 [STnametracker:llm] 1:52:36 AM
debug.js:64 [STnametracker:Settings] 1:52:37 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:52:37 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 1:52:37 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:52:37 AM [NT-LLMConfig] extension_settings keys for module: none
llm.js:449 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:449 [NT-MaxContext] Using SillyTavern context
llm.js:449 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:449 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:449 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:449 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:449 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:449 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:449 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:449 [NT-MaxContext] Final detection method: context.maxContext
llm.js:449 [NT-MaxContext] Returning maxPromptLength: 50000
debug.js:64 [STnametracker:llm] 1:52:37 AM
llm.js:1293 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1297 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1297
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1299 [NT-Prompt] After await, type: string
llm.js:1310 [NT-Prompt] knownCharacters type: string
llm.js:1322 [NT-Prompt] Final systemPrompt length: 7814
llm.js:1323 [NT-Prompt] Final rosterStr length: 35
llm.js:1324 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
debug.js:64 [STnametracker:llm] 1:52:37 AM
debug.js:64 [STnametracker:llm] 1:52:37 AM Calling LLM with prompt (4597 tokens)...
llm.js:1378 [NT-Prompt] Composition: SYSTEM(7829 chars) + USER(11711 chars) + PREFILL
debug.js:64 [STnametracker:llm] 1:52:37 AM
debug.js:64 [STnametracker:llm] 1:52:37 AM
debug.js:64 [STnametracker:llm] 1:52:37 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 1:52:55 AM
llm.js:822 [NT-ST-Call] üîç Pre-validation checks...
llm.js:1055 [NT-Parse] ========== PARSE START ==========
llm.js:1056 [NT-Parse] Input type: string
llm.js:1057 [NT-Parse] Input is null?: false
llm.js:1058 [NT-Parse] Input is undefined?: false
llm.js:1071 [NT-Parse] Input length: 9972
llm.js:1073 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": "college age",
      "mentalAge": "adult",
      "physical": "typical college male",
      "personality": "helpful and caring",
      "sexuality": "heterosexual",
      "raceEthnicity": "human",
      "roleSkil
llm.js:1074 [NT-Parse] Last 100 chars:  "sexuality": "heterosexual",
      "raceEthnicity": "Black",
      "roleSkills": "college student",
llm.js:1085 [NT-Parse] After trim, length: 9972
llm.js:1103 [NT-Parse] Brace search: first={0, last=9502}
llm.js:1110 [NT-Parse] Text before JSON: 
llm.js:1111 [NT-Parse] Extracted JSON length: 9503
llm.js:1112 [NT-Parse] Text after JSON: ,
    {
      "name": "Chloe",
      "aliases": [],
      "physicalAge": "college age",
      "menta
llm.js:979 [NT-Repair] Starting JSON repair...
llm.js:1043 [NT-Repair] Applied repairs, length change: 0
llm.js:1126 [NT-Parse] Before JSON.parse, length: 9503
llm.js:1127 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "college age",       "mentalAge": "adult",       "physical": "typical college male",       "personality": "hel
llm.js:1128 [NT-Parse] Last 100 chars: ino",       "roleSkills": "college student",       "relationships": [],       "confidence": 85
    }
llm.js:1131 [NT-Parse] Attempting JSON.parse...
llm.js:1158 [NT-Parse] ‚ùå JSON.parse failed: Bad control character in string literal in JSON at position 2115 (line 2 column 2114)
(anonymous) @ llm.js:1158
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1159 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1159
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1160 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "college age",       "mentalAge": "adult",       "physical": "typical college male",       "personality": "helpful and caring",       "sexuality": "heterosexual",       "raceEthnicity": "human",       "roleSkills": "college student",       "relationships": [],       "confidence": 90     },     {       "name": "Jasmine",       "aliases": ["Jas"],       "physicalAge": "college age",       "mentalAge": "young 
llm.js:1161 [NT-Parse] Text being parsed (last 200 chars): y": "panicked and distressed",       "sexuality": "heterosexual",       "raceEthnicity": "half-Filipino",       "roleSkills": "college student",       "relationships": [],       "confidence": 85
    }
llm.js:1234 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
debug.js:55 [STnametracker:ErrorHandler] 1:52:55 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:879 [NT-ST-Call] ‚ùå Attempt 1/2 failed: Failed to parse LLM response as JSON.
(anonymous) @ llm.js:879
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:880 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
(anonymous) @ llm.js:880
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:885 [NT-ST-Call] Waiting 2000ms (~2s) before retry...
llm.js:888 [NT-ST-Call] Waited 2002ms before next attempt
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 1:53:04 AM
llm.js:822 [NT-ST-Call] üîç Pre-validation checks...
llm.js:828 [NT-ST-Call] ‚ö†Ô∏è Response does not start with { - attempting extraction
(anonymous) @ llm.js:828
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:833 [NT-ST-Call] ‚úÖ Extracted JSON from response
llm.js:1055 [NT-Parse] ========== PARSE START ==========
llm.js:1056 [NT-Parse] Input type: string
llm.js:1057 [NT-Parse] Input is null?: false
llm.js:1058 [NT-Parse] Input is undefined?: false
llm.js:1071 [NT-Parse] Input length: 3006
llm.js:1073 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "Jasmine",
      "aliases": [],
      "physicalAge": "college age",
      "mentalAge": "college age",
      "physical": "striking Black girl with flawless dark ebony skin, tall and statuesque build with toned, powerful legs of a runner and a perfect, heart-sha
llm.js:1074 [NT-Parse] Last 100 chars:        "Sarah is to John Blackwood: embarrassed student"
      ],
      "confidence": 80
    }
  ]
}
llm.js:1085 [NT-Parse] After trim, length: 3006
llm.js:1103 [NT-Parse] Brace search: first={0, last=3005}
llm.js:1110 [NT-Parse] Text before JSON: 
llm.js:1111 [NT-Parse] Extracted JSON length: 3006
llm.js:1112 [NT-Parse] Text after JSON: 
llm.js:979 [NT-Repair] Starting JSON repair...
llm.js:1043 [NT-Repair] Applied repairs, length change: 0
llm.js:1126 [NT-Parse] Before JSON.parse, length: 3006
llm.js:1127 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "Jasmine",       "aliases": [],       "physicalAge": "college age",       "mentalAge": "college age",       "physical": "striking Black girl with flawless dark 
llm.js:1128 [NT-Parse] Last 100 chars:        "Sarah is to John Blackwood: embarrassed student"       ],       "confidence": 80
    }
  ]
}
llm.js:1131 [NT-Parse] Attempting JSON.parse...
llm.js:1158 [NT-Parse] ‚ùå JSON.parse failed: Expected double-quoted property name in JSON at position 1284 (line 2 column 1283)
(anonymous) @ llm.js:1158
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1159 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1159
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1160 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "Jasmine",       "aliases": [],       "physicalAge": "college age",       "mentalAge": "college age",       "physical": "striking Black girl with flawless dark ebony skin, tall and statuesque build with toned, powerful legs of a runner and a perfect, heart-shaped bubble butt that strains against yoga pants, DD-cup breasts that are practically spilling out of her sports bra",       "personality": "normally confident, self-assured, and in control, but curren
llm.js:1161 [NT-Parse] Text being parsed (last 200 chars): ",       "raceEthnicity": "Black",       "roleSkills": "college student",       "relationships": [         "Sarah is to John Blackwood: embarrassed student"       ],       "confidence": 80
    }
  ]
}
llm.js:1234 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
debug.js:55 [STnametracker:ErrorHandler] 1:53:04 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:879 [NT-ST-Call] ‚ùå Attempt 2/2 failed: Failed to parse LLM response as JSON.
(anonymous) @ llm.js:879
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:880 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
(anonymous) @ llm.js:880
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:61 [STnametracker] Error caught in callSillyTavern: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:909:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
errors.js:74 [STnametracker] All retries failed in callSillyTavern, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:909:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:04 AM Error in callSillyTavern: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:83 [STnametracker] Notifying user of error in callSillyTavern
debug.js:64 [STnametracker:Settings] 1:53:04 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:53:04 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 1:53:04 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:53:04 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 1:53:04 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:53:04 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 1:53:04 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:53:04 AM [NT-LLMConfig] extension_settings keys for module: none
llm.js:449 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:449 [NT-MaxContext] Using SillyTavern context
llm.js:449 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:449 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:449 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:449 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:449 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:449 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:449 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:449 [NT-MaxContext] Final detection method: context.maxContext
llm.js:449 [NT-MaxContext] Returning maxPromptLength: 50000
llm.js:449 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:449 [NT-MaxContext] Using SillyTavern context
llm.js:449 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:449 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:449 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:449 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:449 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:449 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:449 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:449 [NT-MaxContext] Final detection method: context.maxContext
llm.js:449 [NT-MaxContext] Returning maxPromptLength: 50000
debug.js:64 [STnametracker:llm] 1:53:04 AM
llm.js:1293 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1297 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1297
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1413
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
debug.js:64 [STnametracker:llm] 1:53:04 AM
llm.js:1293 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1297 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1297
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1299 [NT-Prompt] After await, type: string
llm.js:1310 [NT-Prompt] knownCharacters type: string
llm.js:1322 [NT-Prompt] Final systemPrompt length: 7814
llm.js:1323 [NT-Prompt] Final rosterStr length: 35
llm.js:1324 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
llm.js:1299 [NT-Prompt] After await, type: string
llm.js:1310 [NT-Prompt] knownCharacters type: string
llm.js:1322 [NT-Prompt] Final systemPrompt length: 7814
llm.js:1323 [NT-Prompt] Final rosterStr length: 35
llm.js:1324 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
debug.js:64 [STnametracker:llm] 1:53:04 AM
debug.js:64 [STnametracker:llm] 1:53:04 AM Calling LLM with prompt (3374 tokens)...
llm.js:1378 [NT-Prompt] Composition: SYSTEM(7829 chars) + USER(6395 chars) + PREFILL
debug.js:64 [STnametracker:llm] 1:53:04 AM
debug.js:64 [STnametracker:llm] 1:53:04 AM
debug.js:64 [STnametracker:llm] 1:53:04 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 1:53:04 AM
debug.js:64 [STnametracker:llm] 1:53:04 AM Calling LLM with prompt (3168 tokens)...
llm.js:1378 [NT-Prompt] Composition: SYSTEM(7829 chars) + USER(5329 chars) + PREFILL
debug.js:64 [STnametracker:llm] 1:53:04 AM
debug.js:64 [STnametracker:llm] 1:53:04 AM
debug.js:64 [STnametracker:llm] 1:53:04 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 1:53:06 AM
llm.js:822 [NT-ST-Call] üîç Pre-validation checks...
llm.js:1055 [NT-Parse] ========== PARSE START ==========
llm.js:1056 [NT-Parse] Input type: string
llm.js:1057 [NT-Parse] Input is null?: false
llm.js:1058 [NT-Parse] Input is undefined?: false
llm.js:1071 [NT-Parse] Input length: 729
llm.js:1073 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "Jasmine",
      "aliases": [],
      "physicalAge": null,
      "mentalAge": null,
      "physical": "Black girl with flawless dark ebony skin, tall and statuesque build with toned, powerful legs, heart-shaped bubble butt, DD-cup breasts, currently experienci
llm.js:1074 [NT-Parse] Last 100 chars: orts bra",
      "relationships": ["Jasmine is to John: friend"],
      "confidence": 90
    }
  ]
}
llm.js:1085 [NT-Parse] After trim, length: 729
llm.js:1103 [NT-Parse] Brace search: first={0, last=728}
llm.js:1110 [NT-Parse] Text before JSON: 
llm.js:1111 [NT-Parse] Extracted JSON length: 729
llm.js:1112 [NT-Parse] Text after JSON: 
llm.js:979 [NT-Repair] Starting JSON repair...
llm.js:1043 [NT-Repair] Applied repairs, length change: 0
llm.js:1126 [NT-Parse] Before JSON.parse, length: 729
llm.js:1127 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "Jasmine",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": "Black girl with flawless dark ebony skin, tall and statue
llm.js:1128 [NT-Parse] Last 100 chars: orts bra",       "relationships": ["Jasmine is to John: friend"],       "confidence": 90
    }
  ]
}
llm.js:1131 [NT-Parse] Attempting JSON.parse...
llm.js:1134 [NT-Parse] ‚úÖ Successfully parsed JSON
llm.js:1135 [NT-Parse] Parsed type: object
llm.js:1136 [NT-Parse] Parsed keys: ['characters']
llm.js:1137 [NT-Parse] Full parsed object: {"characters":[{"name":"Jasmine","aliases":[],"physicalAge":null,"mentalAge":null,"physical":"Black girl with flawless dark ebony skin, tall and statuesque build with toned, powerful legs, heart-shaped bubble butt, DD-cup breasts, currently experiencing lactation and soreness","personality":"Normally confident, self-assured and in control, but currently experiencing panic, shame, and confusion due to her condition","sexuality":null,"raceEthnicity":"Black","roleSkills":"Athlete/fitness enthusiast
llm.js:1154 [NT-Parse] ‚úÖ Valid response with 1 characters
llm.js:1155 [NT-Parse] ========== PARSE END (SUCCESS) ==========
llm.js:867 [NT-ST-Call] parseJSONResponse returned type: object
llm.js:868 [NT-ST-Call] parseJSONResponse returned value: {characters: Array(1)}
llm.js:869 [NT-ST-Call] parsed.characters exists?: true
llm.js:870 [NT-ST-Call] parsed.characters type: object
llm.js:871 [NT-ST-Call] parsed.characters is Array?: true
llm.js:873 [NT-ST-Call] ‚úÖ Successfully parsed on attempt 1 characters: 1
llm.js:874 [NT-ST-Call] Parsed result: {"characters":[{"name":"Jasmine","aliases":[],"physicalAge":null,"mentalAge":null,"physical":"Black girl with flawless dark ebony skin, tall and statuesque build with toned, powerful legs, heart-shaped bubble butt, DD-cup breasts, currently experiencing lactation and soreness","personality":"Normall
debug.js:64 [STnametracker:llm] 1:53:06 AM
debug.js:64 [STnametracker:llm] 1:53:07 AM
llm.js:822 [NT-ST-Call] üîç Pre-validation checks...
llm.js:1055 [NT-Parse] ========== PARSE START ==========
llm.js:1056 [NT-Parse] Input type: string
llm.js:1057 [NT-Parse] Input is null?: false
llm.js:1058 [NT-Parse] Input is undefined?: false
llm.js:1071 [NT-Parse] Input length: 1160
llm.js:1073 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "Jasmine",
      "aliases": [],
      "physicalAge": "Unknown",
      "mentalAge": "Unknown",
      "physical": "Young woman with brown nipples currently lactating, experiencing breast pain and leakage, wearing yoga pants and a soaked shirt",
      "personalit
llm.js:1074 [NT-Parse] Last 100 chars: ohn is to Jasmine: helper offering support and protection"
      ],
      speaking: true
    }
  ]
}
llm.js:1085 [NT-Parse] After trim, length: 1160
llm.js:1103 [NT-Parse] Brace search: first={0, last=1159}
llm.js:1110 [NT-Parse] Text before JSON: 
llm.js:1111 [NT-Parse] Extracted JSON length: 1160
llm.js:1112 [NT-Parse] Text after JSON: 
llm.js:979 [NT-Repair] Starting JSON repair...
llm.js:1043 [NT-Repair] Applied repairs, length change: 0
llm.js:1126 [NT-Parse] Before JSON.parse, length: 1160
llm.js:1127 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "Jasmine",       "aliases": [],       "physicalAge": "Unknown",       "mentalAge": "Unknown",       "physical": "Young woman with brown nipples currently lactat
llm.js:1128 [NT-Parse] Last 100 chars: ohn is to Jasmine: helper offering support and protection"
      ],
      speaking: true
    }
  ]
}
llm.js:1131 [NT-Parse] Attempting JSON.parse...
llm.js:1158 [NT-Parse] ‚ùå JSON.parse failed: Expected double-quoted property name in JSON at position 1134 (line 4 column 7)
(anonymous) @ llm.js:1158
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1159 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1159
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1160 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "Jasmine",       "aliases": [],       "physicalAge": "Unknown",       "mentalAge": "Unknown",       "physical": "Young woman with brown nipples currently lactating, experiencing breast pain and leakage, wearing yoga pants and a soaked shirt",       "personality": "Prideful but becomes vulnerable when in pain, defensive attitude normally but pliant when distressed, anxious about her condition being seen by others",       "sexuality": "Unknown",       "raceE
llm.js:1161 [NT-Parse] Text being parsed (last 200 chars): roleSkills": "College student who offers assistance to Jasmine",       "relationships": [         "John is to Jasmine: helper offering support and protection"
      ],
      speaking: true
    }
  ]
}
llm.js:1234 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:07 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:879 [NT-ST-Call] ‚ùå Attempt 1/2 failed: Failed to parse LLM response as JSON.
(anonymous) @ llm.js:879
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:880 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
(anonymous) @ llm.js:880
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:885 [NT-ST-Call] Waiting 2000ms (~2s) before retry...
llm.js:888 [NT-ST-Call] Waited 2008ms before next attempt
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 1:53:15 AM
llm.js:822 [NT-ST-Call] üîç Pre-validation checks...
llm.js:828 [NT-ST-Call] ‚ö†Ô∏è Response does not start with { - attempting extraction
(anonymous) @ llm.js:828
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:833 [NT-ST-Call] ‚úÖ Extracted JSON from response
llm.js:843 [NT-ST-Call] ‚ö†Ô∏è Detected potential orphaned strings in response
(anonymous) @ llm.js:843
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:844 [NT-ST-Call] Response will need JSON repair during parsing
llm.js:1055 [NT-Parse] ========== PARSE START ==========
llm.js:1056 [NT-Parse] Input type: string
llm.js:1057 [NT-Parse] Input is null?: false
llm.js:1058 [NT-Parse] Input is undefined?: false
llm.js:1071 [NT-Parse] Input length: 2419
llm.js:1073 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": null,
      "mentalAge": null,
      "physical": null,
      "personality": null,
      "sexuality": null,
      "raceEthnicity": null,
      7.9k
{
  "characters": [
    {
      "name": "Jasmine",
      "alias
llm.js:1074 [NT-Parse] Last 100 chars:   "relationships": ["Jasmine is to John: helper, guide, friend"],
      "confidence": 85
    }
  ]
}
llm.js:1085 [NT-Parse] After trim, length: 2419
llm.js:1094 [NT-Parse] Found markdown code block, extracting JSON
llm.js:1096 [NT-Parse] After markdown extraction, length: 854
llm.js:1103 [NT-Parse] Brace search: first={0, last=845}
llm.js:1110 [NT-Parse] Text before JSON: 
llm.js:1111 [NT-Parse] Extracted JSON length: 846
llm.js:1112 [NT-Parse] Text after JSON: </think>
llm.js:979 [NT-Repair] Starting JSON repair...
llm.js:1043 [NT-Repair] Applied repairs, length change: 0
llm.js:1126 [NT-Parse] Before JSON.parse, length: 846
llm.js:1127 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "Jasmine",       "aliases": [         "Jasmine",         "helper",         "guide",         "friend"       ],       "physicalAge": null,       "mentalAge": null
llm.js:1128 [NT-Parse] Last 100 chars:   "relationships": ["Jasmine is to John: helper, guide, friend"],       "confidence": 85
    }
  ]
}
llm.js:1131 [NT-Parse] Attempting JSON.parse...
llm.js:1158 [NT-Parse] ‚ùå JSON.parse failed: Bad control character in string literal in JSON at position 391 (line 2 column 390)
(anonymous) @ llm.js:1158
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1159 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1159
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1160 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "Jasmine",       "aliases": [         "Jasmine",         "helper",         "guide",         "friend"       ],       "physicalAge": null,       "mentalAge": null,       "physical": "soaked through shirt, hard thick brown nipples leaking, breasts hurting",       "personality": "prideful independent, vulnerable when in pain",       "sex lorebook format
{
  "characters": [     {       "name": "Jasmine",       "aliases": [],       "physicalAge": null,       "me
llm.js:1161 [NT-Parse] Text being parsed (last 200 chars):  when in pain",       "sexuality": null,       "raceEthnicity": null,       "roleSkills": null,       "relationships": ["Jasmine is to John: helper, guide, friend"],       "confidence": 85
    }
  ]
}
llm.js:1234 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:15 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:879 [NT-ST-Call] ‚ùå Attempt 2/2 failed: Failed to parse LLM response as JSON.
(anonymous) @ llm.js:879
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:880 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
(anonymous) @ llm.js:880
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:61 [STnametracker] Error caught in callSillyTavern: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:909:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
errors.js:74 [STnametracker] All retries failed in callSillyTavern, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:909:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
debug.js:55 [STnametracker:ErrorHandler] 1:53:15 AM Error in callSillyTavern: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:83 [STnametracker] Notifying user of error in callSillyTavern
debug.js:64 [STnametracker:llm] 1:53:15 AM
debug.js:64 [STnametracker:Settings] 1:53:16 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:53:16 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 1:53:16 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:53:16 AM [NT-LLMConfig] extension_settings keys for module: none
llm.js:449 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:449 [NT-MaxContext] Using SillyTavern context
llm.js:449 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:449 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:449 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:449 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:449 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:449 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:449 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:449 [NT-MaxContext] Final detection method: context.maxContext
llm.js:449 [NT-MaxContext] Returning maxPromptLength: 50000
debug.js:64 [STnametracker:llm] 1:53:16 AM
llm.js:1293 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1297 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1297
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1299 [NT-Prompt] After await, type: string
llm.js:1310 [NT-Prompt] knownCharacters type: string
llm.js:1322 [NT-Prompt] Final systemPrompt length: 7814
llm.js:1323 [NT-Prompt] Final rosterStr length: 35
llm.js:1324 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
debug.js:64 [STnametracker:llm] 1:53:16 AM
debug.js:64 [STnametracker:llm] 1:53:16 AM Calling LLM with prompt (3168 tokens)...
llm.js:1378 [NT-Prompt] Composition: SYSTEM(7829 chars) + USER(5329 chars) + PREFILL
debug.js:64 [STnametracker:llm] 1:53:16 AM
debug.js:64 [STnametracker:llm] 1:53:16 AM
debug.js:64 [STnametracker:llm] 1:53:16 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 1:53:34 AM
llm.js:822 [NT-ST-Call] üîç Pre-validation checks...
llm.js:1055 [NT-Parse] ========== PARSE START ==========
llm.js:1056 [NT-Parse] Input type: string
llm.js:1057 [NT-Parse] Input is null?: false
llm.js:1058 [NT-Parse] Input is undefined?: false
llm.js:1071 [NT-Parse] Input length: 8658
llm.js:1073 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "John",
      "physicalAge": "adult",
      "physical": "helpful, supportive",
      "roleSkills": "helper",
      "relationships": ["Jasmine is to John: helper, concerned friend"]
    },
    {
      "name": "Jasmine",
      "physicalAge": "adult",
      "phys
llm.js:1074 [NT-Parse] Last 100 chars: expressing milk",
      "physical": "yoga pants hug the perfect curve of her ass, brown nipples, "le
llm.js:1085 [NT-Parse] After trim, length: 8658
llm.js:1103 [NT-Parse] Brace search: first={0, last=225}
llm.js:1110 [NT-Parse] Text before JSON: 
llm.js:1111 [NT-Parse] Extracted JSON length: 226
llm.js:1112 [NT-Parse] Text after JSON: ,
    {
      "name": "Jasmine",
      "physicalAge": "adult",
      "physical": "yoga pants hug the
llm.js:979 [NT-Repair] Starting JSON repair...
llm.js:1043 [NT-Repair] Applied repairs, length change: 0
llm.js:1126 [NT-Parse] Before JSON.parse, length: 226
llm.js:1127 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "physicalAge": "adult",       "physical": "helpful, supportive",       "roleSkills": "helper",       "relationships": ["Jasmine is to John: helper
llm.js:1128 [NT-Parse] Last 100 chars: roleSkills": "helper",       "relationships": ["Jasmine is to John: helper, concerned friend"]
    }
llm.js:1131 [NT-Parse] Attempting JSON.parse...
llm.js:1158 [NT-Parse] ‚ùå JSON.parse failed: Expected ',' or ']' after array element in JSON at position 226 (line 3 column 6)
(anonymous) @ llm.js:1158
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1159 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1159
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1160 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "physicalAge": "adult",       "physical": "helpful, supportive",       "roleSkills": "helper",       "relationships": ["Jasmine is to John: helper, concerned friend"]
    }
llm.js:1161 [NT-Parse] Text being parsed (last 200 chars):       "name": "John",       "physicalAge": "adult",       "physical": "helpful, supportive",       "roleSkills": "helper",       "relationships": ["Jasmine is to John: helper, concerned friend"]
    }
llm.js:1234 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:34 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:879 [NT-ST-Call] ‚ùå Attempt 1/2 failed: Failed to parse LLM response as JSON.
(anonymous) @ llm.js:879
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:880 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
(anonymous) @ llm.js:880
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:885 [NT-ST-Call] Waiting 2000ms (~2s) before retry...
llm.js:888 [NT-ST-Call] Waited 2005ms before next attempt
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 1:53:40 AM
llm.js:822 [NT-ST-Call] üîç Pre-validation checks...
llm.js:828 [NT-ST-Call] ‚ö†Ô∏è Response does not start with { - attempting extraction
(anonymous) @ llm.js:828
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:833 [NT-ST-Call] ‚úÖ Extracted JSON from response
llm.js:1055 [NT-Parse] ========== PARSE START ==========
llm.js:1056 [NT-Parse] Input type: string
llm.js:1057 [NT-Parse] Input is null?: false
llm.js:1058 [NT-Parse] Input is undefined?: false
llm.js:1071 [NT-Parse] Input length: 1929
llm.js:1073 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": null,
      "mentalAge": null,
      "physical": null,
      "personality": null,
      "sexuality": null,
      "raceEthnicity": null,
      "roleSkills": null,
      "relationships": [
        "Jasmine is to 
llm.js:1074 [NT-Parse] Last 100 chars: distress, seeking help, has given up pride to trust him"
      ],
      "confidence": 95
    }
  ]
}
llm.js:1085 [NT-Parse] After trim, length: 1929
llm.js:1094 [NT-Parse] Found markdown code block, extracting JSON
llm.js:1096 [NT-Parse] After markdown extraction, length: 7
llm.js:1103 [NT-Parse] Brace search: first={-1, last=-1}
llm.js:979 [NT-Repair] Starting JSON repair...
llm.js:1043 [NT-Repair] Applied repairs, length change: 0
llm.js:1126 [NT-Parse] Before JSON.parse, length: 7
llm.js:1127 [NT-Parse] First 200 chars: <think>
llm.js:1128 [NT-Parse] Last 100 chars: <think>
llm.js:1131 [NT-Parse] Attempting JSON.parse...
llm.js:1158 [NT-Parse] ‚ùå JSON.parse failed: Unexpected token '<', "<think>" is not valid JSON
(anonymous) @ llm.js:1158
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1159 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1159
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1160 [NT-Parse] Text being parsed (first 500 chars): <think>
llm.js:1161 [NT-Parse] Text being parsed (last 200 chars): <think>
llm.js:1234 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: JSON parsing failed: Unexpected character found. Check for missing quotes, commas, or control characters.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: JSON parsing failed: Unexpected character found. Check for missing quotes, commas, or control characters.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:40 AM Error in parseJSONResponse: {code: undefined, message: 'JSON parsing failed: Unexpected character found. C‚Ä¶or missing quotes, commas, or control characters.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:879 [NT-ST-Call] ‚ùå Attempt 2/2 failed: JSON parsing failed: Unexpected character found. Check for missing quotes, commas, or control characters.
(anonymous) @ llm.js:879
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:880 [NT-ST-Call] Error details: NameTrackerError: JSON parsing failed: Unexpected character found. Check for missing quotes, commas, or control characters.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
(anonymous) @ llm.js:880
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:61 [STnametracker] Error caught in callSillyTavern: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:909:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
errors.js:74 [STnametracker] All retries failed in callSillyTavern, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:909:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
debug.js:55 [STnametracker:ErrorHandler] 1:53:40 AM Error in callSillyTavern: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:83 [STnametracker] Notifying user of error in callSillyTavern
debug.js:64 [STnametracker:Settings] 1:53:40 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:53:40 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 1:53:40 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:53:40 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 1:53:40 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:53:40 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 1:53:40 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:53:40 AM [NT-LLMConfig] extension_settings keys for module: none
llm.js:449 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:449 [NT-MaxContext] Using SillyTavern context
llm.js:449 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:449 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:449 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:449 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:449 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:449 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:449 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:449 [NT-MaxContext] Final detection method: context.maxContext
llm.js:449 [NT-MaxContext] Returning maxPromptLength: 50000
llm.js:449 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:449 [NT-MaxContext] Using SillyTavern context
llm.js:449 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:449 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:449 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:449 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:449 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:449 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:449 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:449 [NT-MaxContext] Final detection method: context.maxContext
llm.js:449 [NT-MaxContext] Returning maxPromptLength: 50000
debug.js:64 [STnametracker:llm] 1:53:40 AM
llm.js:1293 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1297 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1297
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1413
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
debug.js:64 [STnametracker:llm] 1:53:40 AM
llm.js:1293 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1297 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1297
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1299 [NT-Prompt] After await, type: string
llm.js:1310 [NT-Prompt] knownCharacters type: string
llm.js:1322 [NT-Prompt] Final systemPrompt length: 7814
llm.js:1323 [NT-Prompt] Final rosterStr length: 35
llm.js:1324 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
llm.js:1299 [NT-Prompt] After await, type: string
llm.js:1310 [NT-Prompt] knownCharacters type: string
llm.js:1322 [NT-Prompt] Final systemPrompt length: 7814
llm.js:1323 [NT-Prompt] Final rosterStr length: 35
llm.js:1324 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
debug.js:64 [STnametracker:llm] 1:53:40 AM
debug.js:64 [STnametracker:llm] 1:53:40 AM Calling LLM with prompt (2513 tokens)...
llm.js:1378 [NT-Prompt] Composition: SYSTEM(7829 chars) + USER(2461 chars) + PREFILL
debug.js:64 [STnametracker:llm] 1:53:40 AM
debug.js:64 [STnametracker:llm] 1:53:40 AM
debug.js:64 [STnametracker:llm] 1:53:40 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 1:53:40 AM
debug.js:64 [STnametracker:llm] 1:53:40 AM Calling LLM with prompt (2600 tokens)...
llm.js:1378 [NT-Prompt] Composition: SYSTEM(7829 chars) + USER(2882 chars) + PREFILL
debug.js:64 [STnametracker:llm] 1:53:40 AM
debug.js:64 [STnametracker:llm] 1:53:40 AM
debug.js:64 [STnametracker:llm] 1:53:40 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 1:53:41 AM
llm.js:822 [NT-ST-Call] üîç Pre-validation checks...
llm.js:1055 [NT-Parse] ========== PARSE START ==========
llm.js:1056 [NT-Parse] Input type: string
llm.js:1057 [NT-Parse] Input is null?: false
llm.js:1058 [NT-Parse] Input is undefined?: false
llm.js:1071 [NT-Parse] Input length: 324
llm.js:1073 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "Jasmine",
      "physical": "young woman with swelling breasts in pain, wearing yoga pants",
      "personality": "defensive, vulnerable, anxious, curious",
      "relationships": ["Jasmine is to unnamed speaker: needing help, seeking protection"],
      "con
llm.js:1074 [NT-Parse] Last 100 chars: asmine is to unnamed speaker: needing help, seeking protection"],
      "confidence": 75
    }
  ]
}
llm.js:1085 [NT-Parse] After trim, length: 324
llm.js:1103 [NT-Parse] Brace search: first={0, last=323}
llm.js:1110 [NT-Parse] Text before JSON: 
llm.js:1111 [NT-Parse] Extracted JSON length: 324
llm.js:1112 [NT-Parse] Text after JSON: 
llm.js:979 [NT-Repair] Starting JSON repair...
llm.js:1043 [NT-Repair] Applied repairs, length change: 0
llm.js:1126 [NT-Parse] Before JSON.parse, length: 324
llm.js:1127 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "Jasmine",       "physical": "young woman with swelling breasts in pain, wearing yoga pants",       "personality": "defensive, vulnerable, anxious, curious",   
llm.js:1128 [NT-Parse] Last 100 chars: asmine is to unnamed speaker: needing help, seeking protection"],       "confidence": 75
    }
  ]
}
llm.js:1131 [NT-Parse] Attempting JSON.parse...
llm.js:1134 [NT-Parse] ‚úÖ Successfully parsed JSON
llm.js:1135 [NT-Parse] Parsed type: object
llm.js:1136 [NT-Parse] Parsed keys: ['characters']
llm.js:1137 [NT-Parse] Full parsed object: {"characters":[{"name":"Jasmine","physical":"young woman with swelling breasts in pain, wearing yoga pants","personality":"defensive, vulnerable, anxious, curious","relationships":["Jasmine is to unnamed speaker: needing help, seeking protection"],"confidence":75}]}
llm.js:1154 [NT-Parse] ‚úÖ Valid response with 1 characters
llm.js:1155 [NT-Parse] ========== PARSE END (SUCCESS) ==========
llm.js:867 [NT-ST-Call] parseJSONResponse returned type: object
llm.js:868 [NT-ST-Call] parseJSONResponse returned value: {characters: Array(1)}
llm.js:869 [NT-ST-Call] parsed.characters exists?: true
llm.js:870 [NT-ST-Call] parsed.characters type: object
llm.js:871 [NT-ST-Call] parsed.characters is Array?: true
llm.js:873 [NT-ST-Call] ‚úÖ Successfully parsed on attempt 1 characters: 1
llm.js:874 [NT-ST-Call] Parsed result: {"characters":[{"name":"Jasmine","physical":"young woman with swelling breasts in pain, wearing yoga pants","personality":"defensive, vulnerable, anxious, curious","relationships":["Jasmine is to unnamed speaker: needing help, seeking protection"],"confidence":75}]}
debug.js:64 [STnametracker:llm] 1:53:41 AM
debug.js:64 [STnametracker:llm] 1:53:42 AM
llm.js:822 [NT-ST-Call] üîç Pre-validation checks...
llm.js:1055 [NT-Parse] ========== PARSE START ==========
llm.js:1056 [NT-Parse] Input type: string
llm.js:1057 [NT-Parse] Input is null?: false
llm.js:1058 [NT-Parse] Input is undefined?: false
llm.js:1071 [NT-Parse] Input length: 473
llm.js:1073 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": null,
      "mentalAge": null,
      "physical": "Helps support Jasmine, notices she's leaking milk through her shirt",
      "personality": null,
      "sexuality": null,
      "raceEthnicity": null,
      "ro
llm.js:1074 [NT-Parse] Last 100 chars: asmine: supporter, helper"],
      "confidence": 75
    },
    {
      "name": "Jasmine",
      "p
}
llm.js:1085 [NT-Parse] After trim, length: 473
llm.js:1103 [NT-Parse] Brace search: first={0, last=472}
llm.js:1110 [NT-Parse] Text before JSON: 
llm.js:1111 [NT-Parse] Extracted JSON length: 473
llm.js:1112 [NT-Parse] Text after JSON: 
llm.js:979 [NT-Repair] Starting JSON repair...
llm.js:1039 [NT-Repair] üîß Adding missing fields for character: Jasmine
llm.js:1043 [NT-Repair] Applied repairs, length change: 50
llm.js:1126 [NT-Parse] Before JSON.parse, length: 523
llm.js:1127 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": "Helps support Jasmine, notices she's leaking milk through he
llm.js:1128 [NT-Parse] Last 100 chars: 5     },     {       "name": "Jasmine", "aliases": [], "physical": "", "personality": "",       "p
}
llm.js:1131 [NT-Parse] Attempting JSON.parse...
llm.js:1158 [NT-Parse] ‚ùå JSON.parse failed: Bad control character in string literal in JSON at position 521 (line 2 column 520)
(anonymous) @ llm.js:1158
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1159 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1159
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:1160 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": "Helps support Jasmine, notices she's leaking milk through her shirt",       "personality": null,       "sexuality": null,       "raceEthnicity": null,       "roleSkills": "Helper/support figure",       "relationships": ["John is to Jasmine: supporter, helper"],       "confidence": 75     },     {       "name": "Jasmine", "aliases": [], "physical": "", "perso
llm.js:1161 [NT-Parse] Text being parsed (last 200 chars): ort figure",       "relationships": ["John is to Jasmine: supporter, helper"],       "confidence": 75     },     {       "name": "Jasmine", "aliases": [], "physical": "", "personality": "",       "p
}
llm.js:1234 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:42 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:879 [NT-ST-Call] ‚ùå Attempt 1/2 failed: Failed to parse LLM response as JSON.
(anonymous) @ llm.js:879
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:880 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
(anonymous) @ llm.js:880
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
await in (anonymous)
withErrorBoundary @ errors.js:53
scanEntireChat @ processing.js:981
(anonymous) @ ui.js:800
dispatch @ jquery-3.5.1.min.js:2
(anonymous) @ jquery-3.5.1.min.js:2
llm.js:885 [NT-ST-Call] Waiting 2000ms (~2s) before retry...
llm.js:888 [NT-ST-Call] Waited 2001ms before next attempt
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 1:53:45 AM
llm.js:822 [NT-ST-Call] üîç Pre-validation checks...
llm.js:1055 [NT-Parse] ========== PARSE START ==========
llm.js:1056 [NT-Parse] Input type: string
llm.js:1057 [NT-Parse] Input is null?: false
llm.js:1058 [NT-Parse] Input is undefined?: false
llm.js:1071 [NT-Parse] Input length: 703
llm.js:1073 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": null,
      "mentalAge": null,
      "physical": null,
      "personality": null,
      "sexuality": null,
      "raceEthnicity": null,
      "roleSkills": null,
      "relationships": [],
      "confidence": 7
llm.js:1074 [NT-Parse] Last 100 chars: l,
      "relationships": ["Jasmine is to John: friend, helper"],
      "confidence": 90
    }
  ]
}
llm.js:1085 [NT-Parse] After trim, length: 703
llm.js:1103 [NT-Parse] Brace search: first={0, last=702}
llm.js:1110 [NT-Parse] Text before JSON: 
llm.js:1111 [NT-Parse] Extracted JSON length: 703
llm.js:1112 [NT-Parse] Text after JSON: 
llm.js:979 [NT-Repair] Starting JSON repair...
llm.js:1043 [NT-Repair] Applied repairs, length change: 0
llm.js:1126 [NT-Parse] Before JSON.parse, length: 703
llm.js:1127 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": null,       "personality": null,       "sexuality": null,    
llm.js:1128 [NT-Parse] Last 100 chars: l,       "relationships": ["Jasmine is to John: friend, helper"],       "confidence": 90
    }
  ]
}
llm.js:1131 [NT-Parse] Attempting JSON.parse...
llm.js:1158 [NT-Parse] ‚ùå JSON.parse failed: Expected double-quoted property name in JSON at position 547 (line 2 column 546)
(anonymous) @ llm.js:1158
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
llm.js:1159 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1159
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
llm.js:1160 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": null,       "personality": null,       "sexuality": null,       "raceEthnicity": null,       "roleSkills": null,       "relationships": [],       "confidence": 75     },     {       "name": "Jasmine",       "physicalAge": "young adult",       "physical": "long wavy hair, brown skin, pierced nipples, lactating",       "personality": "proud, independent, vulner
llm.js:1161 [NT-Parse] Text being parsed (last 200 chars): e, desperate, embarrassed, trusting",       lactating, lactating, lactating,       "roleSkills": null,       "relationships": ["Jasmine is to John: friend, helper"],       "confidence": 90
    }
  ]
}
llm.js:1234 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:45 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:879 [NT-ST-Call] ‚ùå Attempt 2/2 failed: Failed to parse LLM response as JSON.
(anonymous) @ llm.js:879
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
llm.js:880 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
(anonymous) @ llm.js:880
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
errors.js:61 [STnametracker] Error caught in callSillyTavern: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:909:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
errors.js:74 [STnametracker] All retries failed in callSillyTavern, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:909:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1412:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:45 AM Error in callSillyTavern: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
errors.js:83 [STnametracker] Notifying user of error in callSillyTavern
debug.js:64 [STnametracker:llm] 1:53:45 AM
debug.js:64 [STnametracker:Settings] 1:53:46 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:53:46 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 1:53:46 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:53:46 AM [NT-LLMConfig] extension_settings keys for module: none
llm.js:449 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:449 [NT-MaxContext] Using SillyTavern context
llm.js:449 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:449 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:449 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:449 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:449 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:449 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:449 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:449 [NT-MaxContext] Final detection method: context.maxContext
llm.js:449 [NT-MaxContext] Returning maxPromptLength: 50000
debug.js:64 [STnametracker:llm] 1:53:46 AM
llm.js:1293 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1297 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1297
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
llm.js:1299 [NT-Prompt] After await, type: string
llm.js:1310 [NT-Prompt] knownCharacters type: string
llm.js:1322 [NT-Prompt] Final systemPrompt length: 7814
llm.js:1323 [NT-Prompt] Final rosterStr length: 35
llm.js:1324 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
debug.js:64 [STnametracker:llm] 1:53:46 AM
debug.js:64 [STnametracker:llm] 1:53:46 AM Calling LLM with prompt (2600 tokens)...
llm.js:1378 [NT-Prompt] Composition: SYSTEM(7829 chars) + USER(2882 chars) + PREFILL
debug.js:64 [STnametracker:llm] 1:53:46 AM
debug.js:64 [STnametracker:llm] 1:53:46 AM
debug.js:64 [STnametracker:llm] 1:53:46 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 1:53:48 AM
llm.js:822 [NT-ST-Call] üîç Pre-validation checks...
llm.js:1055 [NT-Parse] ========== PARSE START ==========
llm.js:1056 [NT-Parse] Input type: string
llm.js:1057 [NT-Parse] Input is null?: false
llm.js:1058 [NT-Parse] Input is undefined?: false
llm.js:1071 [NT-Parse] Input length: 619
llm.js:1073 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": null,
      "mentalAge": null,
      "physical": null,
      "personality": null,
      "sexuality": null,
      "raceEthnicity": null,
      "roleSkills": null,
      "relationships": [],
      "confidence": 7
llm.js:1074 [NT-Parse] Last 100 chars: 
      lactation: "has breasts full of milk that causes pain and leaks through clothing"
    }
  ]
}
llm.js:1085 [NT-Parse] After trim, length: 619
llm.js:1103 [NT-Parse] Brace search: first={0, last=618}
llm.js:1110 [NT-Parse] Text before JSON: 
llm.js:1111 [NT-Parse] Extracted JSON length: 619
llm.js:1112 [NT-Parse] Text after JSON: 
llm.js:979 [NT-Repair] Starting JSON repair...
llm.js:1043 [NT-Repair] Applied repairs, length change: -1
llm.js:1126 [NT-Parse] Before JSON.parse, length: 618
llm.js:1127 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": null,       "personality": null,       "sexuality": null,    
llm.js:1128 [NT-Parse] Last 100 chars:        lactation: "has breasts full of milk that causes pain and leaks through clothing"
    }
  ]
}
llm.js:1131 [NT-Parse] Attempting JSON.parse...
llm.js:1158 [NT-Parse] ‚ùå JSON.parse failed: Expected double-quoted property name in JSON at position 525 (line 2 column 524)
(anonymous) @ llm.js:1158
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
llm.js:1159 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1159
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
llm.js:1160 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": null,       "personality": null,       "sexuality": null,       "raceEthnicity": null,       "roleSkills": null,       "relationships": [],       "confidence": 75     },     {       "name": "Jasmine",       "physical": "has brown nipples, has breasts that leak milk",       "personality": "prideful independence, vulnerability, desperation, humiliation",       
llm.js:1161 [NT-Parse] Text being parsed (last 200 chars): onality": "prideful independence, vulnerability, desperation, humiliation",       "sexuality": null,       lactation: "has breasts full of milk that causes pain and leaks through clothing"
    }
  ]
}
llm.js:1234 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:48 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:1054
(anonymous) @ llm.js:866
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:879 [NT-ST-Call] ‚ùå Attempt 1/2 failed: Failed to parse LLM response as JSON.
(anonymous) @ llm.js:879
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
llm.js:880 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON.
    at llm.js:1246:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:1054:29)
    at llm.js:866:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1389:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1403:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
(anonymous) @ llm.js:880
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1414
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ llm.js:1403
llm.js:885 [NT-ST-Call] Waiting 2000ms (~2s) before retry...
llm.js:888 [NT-ST-Call] Waited 2000ms before next attempt
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 1:53:52 AM
llm.js:822 [NT-ST-Call] üîç Pre-validation checks...
llm.js:1055 [NT-Parse] ========== PARSE START ==========
llm.js:1056 [NT-Parse] Input type: string
llm.js:1057 [NT-Parse] Input is null?: false
llm.js:1058 [NT-Parse] Input is undefined?: false
llm.js:1071 [NT-Parse] Input length: 905
llm.js:1073 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": "",
      "mentalAge": "",
      "physical": "",
      "personality": "",
      "sexuality": "",
      "raceEthnicity": "",
      "roleSkills": "",
      "relationships": [
        "John is to Jasmine: caregive
llm.js:1074 [NT-Parse] Last 100 chars: lationships": [
        "Jasmine is to John: dependent, vulnerable, embarrassed"
      ]
    }
  ]
}
llm.js:1085 [NT-Parse] After trim, length: 905
llm.js:1103 [NT-Parse] Brace search: first={0, last=904}
llm.js:1110 [NT-Parse] Text before JSON: 
llm.js:1111 [NT-Parse] Extracted JSON length: 905
llm.js:1112 [NT-Parse] Text after JSON: 
llm.js:979 [NT-Repair] Starting JSON repair...
llm.js:1043 [NT-Repair] Applied repairs, length change: 0
llm.js:1126 [NT-Parse] Before JSON.parse, length: 905
llm.js:1127 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "",       "mentalAge": "",       "physical": "",       "personality": "",       "sexuality": "",       "raceEt
llm.js:1128 [NT-Parse] Last 100 chars: lationships": [         "Jasmine is to John: dependent, vulnerable, embarrassed"
      ]
    }
  ]
}
llm.js:1131 [NT-Parse] Attempting JSON.parse...
llm.js:1134 [NT-Parse] ‚úÖ Successfully parsed JSON
llm.js:1135 [NT-Parse] Parsed type: object
llm.js:1136 [NT-Parse] Parsed keys: ['characters']
llm.js:1137 [NT-Parse] Full parsed object: {"characters":[{"name":"John","aliases":[],"physicalAge":"","mentalAge":"","physical":"","personality":"","sexuality":"","raceEthnicity":"","roleSkills":"","relationships":["John is to Jasmine: caregiver, helper, trusted confidant"],"confidence":85},{"name":"Jasmine","aliases":[],"physicalAge":"","physical":"hard thick brown nipples, lactating, experiencing breast pain","personality":"prideful independence, vulnerability, humiliation, desperation, trust","sexuality":"","raceEthnicity":"","roleSk
llm.js:1154 [NT-Parse] ‚úÖ Valid response with 2 characters
llm.js:1155 [NT-Parse] ========== PARSE END (SUCCESS) ==========
llm.js:867 [NT-ST-Call] parseJSONResponse returned type: object
llm.js:868 [NT-ST-Call] parseJSONResponse returned value: {characters: Array(2)}
llm.js:869 [NT-ST-Call] parsed.characters exists?: true
llm.js:870 [NT-ST-Call] parsed.characters type: object
llm.js:871 [NT-ST-Call] parsed.characters is Array?: true
llm.js:873 [NT-ST-Call] ‚úÖ Successfully parsed on attempt 2 characters: 2
llm.js:874 [NT-ST-Call] Parsed result: {"characters":[{"name":"John","aliases":[],"physicalAge":"","mentalAge":"","physical":"","personality":"","sexuality":"","raceEthnicity":"","roleSkills":"","relationships":["John is to Jasmine: caregiver, helper, trusted confidant"],"confidence":85},{"name":"Jasmine","aliases":[],"physicalAge":"","p
debug.js:64 [STnametracker:llm] 1:53:52 AM
processing.js:183 [NT-Processing] üü† processCharacterData() for: Jasmine
characters.js:27 [NT-Characters] [FindChar] Searching for 'Jasmine': NOT FOUND 
debug.js:64 [STnametracker:characters] 1:53:52 AM
debug.js:64 [STnametracker:characters] 1:53:52 AM
characters.js:745 [NT-Characters] üü¶ createCharacter() called for: Jasmine
errors.js:61 [STnametracker] Error caught in createCharacter: ReferenceError: validateCharacterData is not defined
    at characters.js:751:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
errors.js:74 [STnametracker] All retries failed in createCharacter, tracking error: ReferenceError: validateCharacterData is not defined
    at characters.js:751:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:52 AM Error in createCharacter: {code: 'UNKNOWN_ERROR', message: 'validateCharacterData is not defined', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
createCharacter @ characters.js:743
(anonymous) @ processing.js:230
await in (anonymous)
withErrorBoundary @ errors.js:53
processCharacterData @ processing.js:182
(anonymous) @ processing.js:157
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
errors.js:83 [STnametracker] Notifying user of error in createCharacter
errors.js:61 [STnametracker] Error caught in processCharacterData: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
errors.js:74 [STnametracker] All retries failed in processCharacterData, tracking error: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:52 AM Error in processCharacterData: {code: 'UNKNOWN_ERROR', message: 'validateCharacterData is not defined', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
processCharacterData @ processing.js:182
(anonymous) @ processing.js:157
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
errors.js:83 [STnametracker] Notifying user of error in processCharacterData
processing.js:159 [NT-Processing] ‚ùå Error processing character Jasmine: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
(anonymous) @ processing.js:159
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
processing.js:160 [NT-Processing] Error stack: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:2063:28)
    at ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:2013:35)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7711:38
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7638:17
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:8542:21
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async HTMLButtonElement.<anonymous> (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7146:13)
(anonymous) @ processing.js:160
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
processing.js:183 [NT-Processing] üü† processCharacterData() for: Jasmine
characters.js:27 [NT-Characters] [FindChar] Searching for 'Jasmine': NOT FOUND 
debug.js:64 [STnametracker:characters] 1:53:52 AM
debug.js:64 [STnametracker:characters] 1:53:52 AM
characters.js:745 [NT-Characters] üü¶ createCharacter() called for: Jasmine
errors.js:61 [STnametracker] Error caught in createCharacter: ReferenceError: validateCharacterData is not defined
    at characters.js:751:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
errors.js:74 [STnametracker] All retries failed in createCharacter, tracking error: ReferenceError: validateCharacterData is not defined
    at characters.js:751:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:52 AM Error in createCharacter: {code: 'UNKNOWN_ERROR', message: 'validateCharacterData is not defined', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
createCharacter @ characters.js:743
(anonymous) @ processing.js:230
await in (anonymous)
withErrorBoundary @ errors.js:53
processCharacterData @ processing.js:182
(anonymous) @ processing.js:157
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
errors.js:83 [STnametracker] Notifying user of error in createCharacter
errors.js:61 [STnametracker] Error caught in processCharacterData: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
errors.js:74 [STnametracker] All retries failed in processCharacterData, tracking error: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:52 AM Error in processCharacterData: {code: 'UNKNOWN_ERROR', message: 'validateCharacterData is not defined', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
processCharacterData @ processing.js:182
(anonymous) @ processing.js:157
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
errors.js:83 [STnametracker] Notifying user of error in processCharacterData
processing.js:159 [NT-Processing] ‚ùå Error processing character Jasmine: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
(anonymous) @ processing.js:159
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
processing.js:160 [NT-Processing] Error stack: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:2063:28)
    at ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:2013:35)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7711:38
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7638:17
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:8542:21
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async HTMLButtonElement.<anonymous> (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7146:13)
(anonymous) @ processing.js:160
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
processing.js:183 [NT-Processing] üü† processCharacterData() for: John
characters.js:27 [NT-Characters] [FindChar] Searching for 'John': NOT FOUND 
debug.js:64 [STnametracker:characters] 1:53:52 AM
debug.js:64 [STnametracker:characters] 1:53:52 AM
characters.js:745 [NT-Characters] üü¶ createCharacter() called for: John
errors.js:61 [STnametracker] Error caught in createCharacter: ReferenceError: validateCharacterData is not defined
    at characters.js:751:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
errors.js:74 [STnametracker] All retries failed in createCharacter, tracking error: ReferenceError: validateCharacterData is not defined
    at characters.js:751:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:52 AM Error in createCharacter: {code: 'UNKNOWN_ERROR', message: 'validateCharacterData is not defined', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
createCharacter @ characters.js:743
(anonymous) @ processing.js:230
await in (anonymous)
withErrorBoundary @ errors.js:53
processCharacterData @ processing.js:182
(anonymous) @ processing.js:157
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
errors.js:83 [STnametracker] Notifying user of error in createCharacter
errors.js:61 [STnametracker] Error caught in processCharacterData: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
errors.js:74 [STnametracker] All retries failed in processCharacterData, tracking error: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:52 AM Error in processCharacterData: {code: 'UNKNOWN_ERROR', message: 'validateCharacterData is not defined', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
processCharacterData @ processing.js:182
(anonymous) @ processing.js:157
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
errors.js:83 [STnametracker] Notifying user of error in processCharacterData
processing.js:159 [NT-Processing] ‚ùå Error processing character John: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
(anonymous) @ processing.js:159
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
processing.js:160 [NT-Processing] Error stack: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:2063:28)
    at ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:2013:35)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7711:38
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7638:17
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:8542:21
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async HTMLButtonElement.<anonymous> (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7146:13)
(anonymous) @ processing.js:160
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
processing.js:183 [NT-Processing] üü† processCharacterData() for: Jasmine
characters.js:27 [NT-Characters] [FindChar] Searching for 'Jasmine': NOT FOUND 
debug.js:64 [STnametracker:characters] 1:53:52 AM
debug.js:64 [STnametracker:characters] 1:53:52 AM
characters.js:745 [NT-Characters] üü¶ createCharacter() called for: Jasmine
errors.js:61 [STnametracker] Error caught in createCharacter: ReferenceError: validateCharacterData is not defined
    at characters.js:751:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
errors.js:74 [STnametracker] All retries failed in createCharacter, tracking error: ReferenceError: validateCharacterData is not defined
    at characters.js:751:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:52 AM Error in createCharacter: {code: 'UNKNOWN_ERROR', message: 'validateCharacterData is not defined', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
createCharacter @ characters.js:743
(anonymous) @ processing.js:230
await in (anonymous)
withErrorBoundary @ errors.js:53
processCharacterData @ processing.js:182
(anonymous) @ processing.js:157
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
errors.js:83 [STnametracker] Notifying user of error in createCharacter
errors.js:61 [STnametracker] Error caught in processCharacterData: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
errors.js:74 [STnametracker] All retries failed in processCharacterData, tracking error: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:52 AM Error in processCharacterData: {code: 'UNKNOWN_ERROR', message: 'validateCharacterData is not defined', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
processCharacterData @ processing.js:182
(anonymous) @ processing.js:157
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
errors.js:83 [STnametracker] Notifying user of error in processCharacterData
processing.js:159 [NT-Processing] ‚ùå Error processing character Jasmine: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
(anonymous) @ processing.js:159
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
processing.js:160 [NT-Processing] Error stack: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:2063:28)
    at ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:2013:35)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7711:38
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7638:17
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:8542:21
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async HTMLButtonElement.<anonymous> (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7146:13)
(anonymous) @ processing.js:160
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
processing.js:166 [NT-Processing] üü¢ About to call updateCharacterList()
ui.js:47 [NT-UI] üü° updateCharacterList() called
ui.js:49 [NT-UI] üü° getCharacters() returned: []
ui.js:51 [NT-UI] üü° Character count: 0
processing.js:168 [NT-Processing] üü¢ updateCharacterList() returned: undefined
ui.js:162 [NT-Status] Characters: 0, Messages: 478, LastScanned: -1, Pending: 479
processing.js:170 [NT-Processing] üü¢ updateStatusDisplay() returned: undefined
processing.js:172 [NT-Processing] üü¢ Current characters in storage: {}
debug.js:64 [STnametracker:Settings] 1:53:53 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:53:53 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 1:53:53 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 1:53:53 AM [NT-LLMConfig] extension_settings keys for module: none
llm.js:449 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:449 [NT-MaxContext] Using SillyTavern context
llm.js:449 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:449 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:449 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:449 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:449 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:449 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:449 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:449 [NT-MaxContext] Final detection method: context.maxContext
llm.js:449 [NT-MaxContext] Returning maxPromptLength: 50000
debug.js:64 [STnametracker:llm] 1:53:53 AM
llm.js:1293 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1297 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1297
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
llm.js:1299 [NT-Prompt] After await, type: string
llm.js:1310 [NT-Prompt] knownCharacters type: string
llm.js:1322 [NT-Prompt] Final systemPrompt length: 7814
llm.js:1323 [NT-Prompt] Final rosterStr length: 35
llm.js:1324 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
debug.js:64 [STnametracker:llm] 1:53:53 AM
debug.js:64 [STnametracker:llm] 1:53:53 AM Calling LLM with prompt (5210 tokens)...
llm.js:1378 [NT-Prompt] Composition: SYSTEM(7829 chars) + USER(13944 chars) + PREFILL
debug.js:64 [STnametracker:llm] 1:53:53 AM
debug.js:64 [STnametracker:llm] 1:53:53 AM
debug.js:64 [STnametracker:llm] 1:53:53 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:61 [STnametracker:Notifications] 1:53:55 AM Warning notification: Scan aborted by user
debug.js:64 [STnametracker:llm] 1:53:56 AM
llm.js:822 [NT-ST-Call] üîç Pre-validation checks...
llm.js:828 [NT-ST-Call] ‚ö†Ô∏è Response does not start with { - attempting extraction
(anonymous) @ llm.js:828
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:701
(anonymous) @ llm.js:1389
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1262
(anonymous) @ processing.js:1057
llm.js:833 [NT-ST-Call] ‚úÖ Extracted JSON from response
llm.js:1055 [NT-Parse] ========== PARSE START ==========
llm.js:1056 [NT-Parse] Input type: string
llm.js:1057 [NT-Parse] Input is null?: false
llm.js:1058 [NT-Parse] Input is undefined?: false
llm.js:1071 [NT-Parse] Input length: 1094
llm.js:1073 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "Jasmine",
      "aliases": [],
      "physicalAge": "",
      "mentalAge": "",
      "physical": "massive, pendulous breasts with dark areolas the size of saucers and nipples that stand out like erasers, flushed and swollen, clearly engorged",
      "personal
llm.js:1074 [NT-Parse] Last 100 chars:        "John is to Jasmine: helper, dominant, assertive"
      ],
      "confidence": 80
    }
  ]
}
llm.js:1085 [NT-Parse] After trim, length: 1094
llm.js:1103 [NT-Parse] Brace search: first={0, last=1093}
llm.js:1110 [NT-Parse] Text before JSON: 
llm.js:1111 [NT-Parse] Extracted JSON length: 1094
llm.js:1112 [NT-Parse] Text after JSON: 
llm.js:979 [NT-Repair] Starting JSON repair...
llm.js:1043 [NT-Repair] Applied repairs, length change: 0
llm.js:1126 [NT-Parse] Before JSON.parse, length: 1094
llm.js:1127 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "Jasmine",       "aliases": [],       "physicalAge": "",       "mentalAge": "",       "physical": "massive, pendulous breasts with dark areolas the size of sauc
llm.js:1128 [NT-Parse] Last 100 chars:        "John is to Jasmine: helper, dominant, assertive"       ],       "confidence": 80
    }
  ]
}
llm.js:1131 [NT-Parse] Attempting JSON.parse...
llm.js:1134 [NT-Parse] ‚úÖ Successfully parsed JSON
llm.js:1135 [NT-Parse] Parsed type: object
llm.js:1136 [NT-Parse] Parsed keys: ['characters']
llm.js:1137 [NT-Parse] Full parsed object: {"characters":[{"name":"Jasmine","aliases":[],"physicalAge":"","mentalAge":"","physical":"massive, pendulous breasts with dark areolas the size of saucers and nipples that stand out like erasers, flushed and swollen, clearly engorged","personality":"shifts from mortification and desperation to primal, insatiable hunger; proud athlete deflated into creature of pure sensation; desperate, shameless, slutty plea","sexuality":"","raceEthnicity":"","roleSkills":"","relationships":["Jasmine is to John:
llm.js:1154 [NT-Parse] ‚úÖ Valid response with 2 characters
llm.js:1155 [NT-Parse] ========== PARSE END (SUCCESS) ==========
llm.js:867 [NT-ST-Call] parseJSONResponse returned type: object
llm.js:868 [NT-ST-Call] parseJSONResponse returned value: {characters: Array(2)}
llm.js:869 [NT-ST-Call] parsed.characters exists?: true
llm.js:870 [NT-ST-Call] parsed.characters type: object
llm.js:871 [NT-ST-Call] parsed.characters is Array?: true
llm.js:873 [NT-ST-Call] ‚úÖ Successfully parsed on attempt 1 characters: 2
llm.js:874 [NT-ST-Call] Parsed result: {"characters":[{"name":"Jasmine","aliases":[],"physicalAge":"","mentalAge":"","physical":"massive, pendulous breasts with dark areolas the size of saucers and nipples that stand out like erasers, flushed and swollen, clearly engorged","personality":"shifts from mortification and desperation to prima
debug.js:64 [STnametracker:llm] 1:53:56 AM
processing.js:183 [NT-Processing] üü† processCharacterData() for: Jasmine
characters.js:27 [NT-Characters] [FindChar] Searching for 'Jasmine': NOT FOUND 
debug.js:64 [STnametracker:characters] 1:53:56 AM
debug.js:64 [STnametracker:characters] 1:53:56 AM
characters.js:745 [NT-Characters] üü¶ createCharacter() called for: Jasmine
errors.js:61 [STnametracker] Error caught in createCharacter: ReferenceError: validateCharacterData is not defined
    at characters.js:751:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
errors.js:74 [STnametracker] All retries failed in createCharacter, tracking error: ReferenceError: validateCharacterData is not defined
    at characters.js:751:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:56 AM Error in createCharacter: {code: 'UNKNOWN_ERROR', message: 'validateCharacterData is not defined', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
createCharacter @ characters.js:743
(anonymous) @ processing.js:230
await in (anonymous)
withErrorBoundary @ errors.js:53
processCharacterData @ processing.js:182
(anonymous) @ processing.js:157
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
errors.js:83 [STnametracker] Notifying user of error in createCharacter
errors.js:61 [STnametracker] Error caught in processCharacterData: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
errors.js:74 [STnametracker] All retries failed in processCharacterData, tracking error: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:56 AM Error in processCharacterData: {code: 'UNKNOWN_ERROR', message: 'validateCharacterData is not defined', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
processCharacterData @ processing.js:182
(anonymous) @ processing.js:157
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
errors.js:83 [STnametracker] Notifying user of error in processCharacterData
processing.js:159 [NT-Processing] ‚ùå Error processing character Jasmine: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
(anonymous) @ processing.js:159
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
processing.js:160 [NT-Processing] Error stack: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:2063:28)
    at ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:2013:35)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7711:38
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7638:17
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:8542:21
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async HTMLButtonElement.<anonymous> (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7146:13)
(anonymous) @ processing.js:160
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
processing.js:183 [NT-Processing] üü† processCharacterData() for: John
characters.js:27 [NT-Characters] [FindChar] Searching for 'John': NOT FOUND 
debug.js:64 [STnametracker:characters] 1:53:56 AM
debug.js:64 [STnametracker:characters] 1:53:56 AM
characters.js:745 [NT-Characters] üü¶ createCharacter() called for: John
errors.js:61 [STnametracker] Error caught in createCharacter: ReferenceError: validateCharacterData is not defined
    at characters.js:751:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
errors.js:74 [STnametracker] All retries failed in createCharacter, tracking error: ReferenceError: validateCharacterData is not defined
    at characters.js:751:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:56 AM Error in createCharacter: {code: 'UNKNOWN_ERROR', message: 'validateCharacterData is not defined', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
createCharacter @ characters.js:743
(anonymous) @ processing.js:230
await in (anonymous)
withErrorBoundary @ errors.js:53
processCharacterData @ processing.js:182
(anonymous) @ processing.js:157
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
errors.js:83 [STnametracker] Notifying user of error in createCharacter
errors.js:61 [STnametracker] Error caught in processCharacterData: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
errors.js:74 [STnametracker] All retries failed in processCharacterData, tracking error: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
debug.js:55 [STnametracker:ErrorHandler] 1:53:56 AM Error in processCharacterData: {code: 'UNKNOWN_ERROR', message: 'validateCharacterData is not defined', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
processCharacterData @ processing.js:182
(anonymous) @ processing.js:157
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
errors.js:83 [STnametracker] Notifying user of error in processCharacterData
processing.js:159 [NT-Processing] ‚ùå Error processing character John: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (errors.js:125:1)
    at ErrorHandler.withErrorBoundary (errors.js:75:1)
    at async processing.js:230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:157:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1061:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:800:1)
(anonymous) @ processing.js:159
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
processing.js:160 [NT-Processing] Error stack: NameTrackerError: validateCharacterData is not defined
    at ErrorHandler.trackError (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:2063:28)
    at ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:2013:35)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7711:38
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7638:17
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:8542:21
    at async ErrorHandler.withErrorBoundary (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:1991:32)
    at async HTMLButtonElement.<anonymous> (http://192.168.0.4:8008/scripts/extensions/third-party/STnametracker/index.js:7146:13)
(anonymous) @ processing.js:160
await in (anonymous)
withErrorBoundary @ errors.js:53
processAnalysisResults @ processing.js:140
(anonymous) @ processing.js:1061
processing.js:166 [NT-Processing] üü¢ About to call updateCharacterList()
ui.js:47 [NT-UI] üü° updateCharacterList() called
ui.js:49 [NT-UI] üü° getCharacters() returned: []
ui.js:51 [NT-UI] üü° Character count: 0
processing.js:168 [NT-Processing] üü¢ updateCharacterList() returned: undefined
ui.js:162 [NT-Status] Characters: 0, Messages: 478, LastScanned: -1, Pending: 479
processing.js:170 [NT-Processing] üü¢ updateStatusDisplay() returned: undefined
processing.js:172 [NT-Processing] üü¢ Current characters in storage: {}
debug.js:64 [STnametracker:processing] 1:53:57 AM
settings.js:128 [STnametracker] extension_settings not available for saving
(anonymous) @ settings.js:128
withErrorBoundary @ errors.js:53
set_settings @ settings.js:125
(anonymous) @ processing.js:1092
settings.js:128 [STnametracker] extension_settings not available for saving
(anonymous) @ settings.js:128
withErrorBoundary @ errors.js:53
set_settings @ settings.js:125
(anonymous) @ processing.js:1096
ui.js:47 [NT-UI] üü° updateCharacterList() called
ui.js:49 [NT-UI] üü° getCharacters() returned: []
ui.js:51 [NT-UI] üü° Character count: 0
ui.js:162 [NT-Status] Characters: 0, Messages: 478, LastScanned: -1, Pending: 479
debug.js:61 [STnametracker:Notifications] 1:53:57 AM Success notification: Full chat scan complete!

Messages: 478
Batches: 2/48
Characters found: 2
Failed: 0
ui.js:47 [NT-UI] üü° updateCharacterList() called
ui.js:49 [NT-UI] üü° getCharacters() returned: []
ui.js:51 [NT-UI] üü° Character count: 0
ui.js:162 [NT-Status] Characters: 0, Messages: 478, LastScanned: -1, Pending: 479
