(index):1 The Cross-Origin-Opener-Policy header has been ignored, because the URL's origin was untrustworthy. It was defined either in the final response or a redirect. Please deliver the response using the HTTPS protocol. You can also use the 'localhost' origin instead. See https://www.w3.org/TR/powerful-features/#potentially-trustworthy-origin and https://html.spec.whatwg.org/#the-cross-origin-opener-policy-header.
(index):1 The page requested an origin-keyed agent cluster using the Origin-Agent-Cluster header, but could not be origin-keyed since the origin 'http://192.168.0.4:8008' had previously been placed in a site-keyed agent cluster. Update your headers to uniformly request origin-keying for all pages on the origin.
(index):1 [DOM] Password field is not contained in a form: (More info: https://goo.gl/9p2vKq) 
 User Agent Object
 No input elements found for key: api_key_comfy_runpod
updateInputDataLists @ secrets.js:534
 Unsupported language: en-us
findLang @ i18n.js:143
 Registering preset manager for API: kobold
 Registering preset manager for API: novel
 Registering preset manager for API: openai
 Registering preset manager for API: textgenerationwebui
 Registering preset manager for API: context
 Registering preset manager for API: instruct
 Registering preset manager for API: sysprompt
 Registering preset manager for API: reasoning
 Event emitted: settings_loaded_before
 Preset samplers order: 6,0,1,2,3,4,5
 Preset samplers order: 1,5,0,2,3,4
 Text Completions: loading selected samplers
 Preset samplers order: 6,0,1,3,4,2,5
 Preset samplers order:  Array(20)
 Preset samplers order:  Array(12)
 Preset samplers order:  Array(14)
 Event emitted: chatcompletion_model_changed
 Event emitted: chatcompletion_source_changed
 poweruser.chat_display 0
 applying default chat
 aborting MUI reset 0
 aborting MUI reset 0
 Setting context_story_string to {{#if anchorBefore}}{{anchorBefore}}
{{/if}}{{#if system}}{{system}}
{{/if}}{{#if wiBefore}}{{wiBefore}}
{{/if}}{{#if description}}{{description}}
{{/if}}{{#if personality}}{{char}}'s personality: {{personality}}
{{/if}}{{#if scenario}}Scenario: {{scenario}}
{{/if}}{{#if wiAfter}}{{wiAfter}}
{{/if}}{{#if persona}}{{persona}}
{{/if}}{{#if anchorAfter}}{{anchorAfter}}
{{/if}}


 Setting context_example_separator to 
 Setting context_chat_start to 
 Setting context_use_stop_strings to false
 Setting context_names_as_stop_strings to true
 Setting context_story_string_position to 0
 Setting context_story_string_position to 0
 Setting context_story_string_depth to 1
 Setting context_story_string_role to 0
 skipping movingUI state load
 Event emitted: settings_loaded_after
 enabling amount_gen for ooba/novel
 value? textgenerationwebui
 returning full samplers array
 Event emitted: extensions_first_load
 Activating extension translate
 Activating extension connection-manager
 Activating extension third-party/Extension-CustomSliders
 Activating extension regex
 Activating extension attachments
 Activating extension third-party/Extension-Objective
 Activating extension gallery
 Activating extension memory
 No current task
 Activating extension third-party/SillyTavern-Timelines
 Summary has no content
 Summary has no content
 Summary has no content
 Summary has no content
 Window resize: 5120x1271 -> 5120x1271
 Zoom: 1.5, X:5120, Y:1271, original: 7680x1906.5 
 Activating extension third-party/STnametracker
 [STnametracker:Notifications] 12:52:41 AM Notifications module loaded
 [STnametracker:Utils] 12:52:41 AM Utils module loaded
 [LOREBOOK] Starting module load...
 [LOREBOOK] Imports completed. Types:
 [LOREBOOK] createModuleLogger: function
 [LOREBOOK] withErrorBoundary: function
 [LOREBOOK] NameTrackerError: function
 [LOREBOOK] About to call createModuleLogger...
 [LOREBOOK] Debug logger created successfully: Object
 [STnametracker] Main index.js: Import validation
 [STnametracker] Main index.js: initializeUIHandlers import = function 
 [STnametracker] Main index.js: initializeMenuButtons import = function 
 [STnametracker] Main index.js: bindSettingsHandlers import = function 
 [STnametracker] Main index.js: updateUI import = function 
 Activating extension tts
 [STnametracker] jQuery ready, starting extension load...
 [STnametracker] Logger available, initializing...
 [STnametracker:Main] 12:52:41 AM Name Tracker Extension loading...
 [STnametracker] Setting up extension_settings...
 [STnametracker] Creating window.extension_settings
 [STnametracker] Current extension_settings keys: Array(0)
 [STnametracker] Initializing defaults...
 [STnametracker] extension_settings not yet available, using defaults
_errors_js__WEBPACK_IMPORTED_MODULE_0__.r_.withErrorBoundary @ index.js:2389
 [STnametracker] Settings initialized with defaults. llmSource: sillytavern
 [STnametracker] Extension settings keys after init: Array(0)
 [STnametracker] Starting main initialization...
 [STnametracker] Enter initialize() method
 [STnametracker] Inside error boundary
 [STnametracker] Starting initialization sequence
 [STnametracker:Main] 12:52:41 AM Starting Name Tracker Extension v2.1.0
 [STnametracker] Step 1: Initializing core systems...
 [STnametracker] initializeCore: Starting...
 [STnametracker:Main] 12:52:41 AM Initializing core systems...
 [STnametracker] initializeCore: Connecting debug system...
 [STnametracker] initializeCore: Debug system connected
 [STnametracker] initializeCore: Settings ready
 [STnametracker:ErrorHandler] 12:52:41 AM Registered recovery strategy for: NETWORK_ERROR
 [STnametracker:ErrorHandler] 12:52:41 AM Registered recovery strategy for: DATA_FORMAT_ERROR
 [STnametracker:Main] 12:52:41 AM Core systems initialized
 [STnametracker] Step 1: Core systems completed
 [STnametracker] Step 2: Initializing feature modules...
 [STnametracker:Main] 12:52:41 AM Initializing feature modules...
 [STnametracker] initializeModules: Module initialization skipped
 [STnametracker] initializeModules: Lorebook will be initialized when first needed
 [STnametracker:Main] 12:52:41 AM Feature modules ready (lazy initialization)
 [STnametracker] Step 2: Feature modules completed
 [STnametracker] Step 3: Initializing UI...
 [STnametracker] initializeUI: Starting UI initialization...
 [STnametracker:Main] 12:52:41 AM Initializing UI...
 [STnametracker] initializeUI: Loading settings HTML from: scripts/extensions/third-party/STnametracker/settings.html
 [STnametracker] initializeUI: Settings HTML loaded, length: 8675
 [STnametracker] initializeUI: Finding #extensions_settings element...
 [STnametracker] initializeUI: Target element found: true
 [STnametracker] initializeUI: Settings HTML appended
 [STnametracker] initializeUI: Initializing UI handlers...
 [STnametracker:ui] 12:52:41 AM
 [STnametracker] initializeUI: UI handlers initialized
 [STnametracker] initializeUI: Initializing menu buttons...
 [STnametracker:ui] 12:52:41 AM
 [STnametracker] initializeUI: Menu buttons initialized
 [STnametracker] initializeUI: Binding settings handlers...
 [STnametracker:ui] 12:52:41 AM
 [STnametracker] initializeUI: Settings handlers bound
 [STnametracker] initializeUI: Updating UI...
 [NT-UI] üü° updateCharacterList() called
 [NT-UI] üü° getCharacters() returned: Array(0)
 [NT-UI] üü° Character count: 0
 [STnametracker:ui] 12:52:41 AM
 [STnametracker] initializeUI: UI updated
 [STnametracker:Main] 12:52:41 AM UI initialized
 [STnametracker] Step 3: UI completed
 [STnametracker] Step 4: Registering event listeners...
 [STnametracker:Main] 12:52:41 AM Registering event listeners...
 [STnametracker:Main] 12:52:41 AM Event listeners registered
 [STnametracker] Step 4: Event listeners completed
 [STnametracker] Marking as initialized
 [STnametracker:Main] 12:52:41 AM Name Tracker Extension initialized successfully
 [STnametracker] Full initialization sequence completed successfully
 [STnametracker] Main initialization completed
 [STnametracker:Main] 12:52:41 AM Name Tracker Extension loaded successfully
 [STnametracker] Extension loaded. Use ntDebug.status() for diagnostics.
 Activating extension quick-reply
 Using default TTS Provider settings
 SystemTTS: Settings loaded
 Activating extension assets
 Activating extension token-counter
 Activating extension third-party/Extension-DupeFinder
 Activating extension third-party/Extension-TopInfoBar
 [QR2] sets:  Array(1)
 [QR2] settings:  QuickReplySettings
 Patching jQuery highlight
 Activating extension third-party/SillyTavern-LandingPage
 [STL] LandingPage.updateBgresultList
 [STL] LandingPage.updateBgresultList COMPLETED
 [STL] LANDING
 [STL] LandingPage.updateBackground
 [STL] LandingPage.updateBgresultList
 [STL] LandingPage.updateBgresultList COMPLETED
 [STL] no bg true
 Activating extension third-party/Extension-Notebook
 Activating extension third-party/Extension-QuickPersona
 Activating extension vectors
 Activating extension third-party/SillyTavern-WordFrequency
 Activating extension third-party/SillyTavern-WorldInfoPresets
 Activating extension third-party/SillyTavern-Custom-Scenario
 Event emitted: extension_settings_loaded
 returning full samplers array
 Event emitted: settings_loaded
 Failed to insert focus rule: 
(anonymous) @ dynamic-styles.js:147
 Event emitted: settings_updated
 Event emitted: character_page_loaded
 Chat Completions: loading token cache
 saw no avatars
 setting pin class via checkbox state
 Character context menu initialized CharacterContextMenu
 Event emitted: app_initialized
 Event emitted: online_status_changed
 Rendered 100 messages in 0.087 seconds.
 Event emitted: character_editor_opened
 Event emitted: chat_id_changed
 User Input --  /lore
 Event emitted: app_ready
 [QR2] executing startup
 [QR2] /executing startup
 [QR2] executing queue (0 items)
 [QR2] /executing queue
 [QR2] READY
 [WI] Chat lore has 10 entries Array(1)
 Event emitted: worldinfo_entries_loaded
 [WI] Found 10 world lore entries. Sorted by strategy Array(2)
 No current task
 Summary has no content
 [STnametracker:Main] 12:53:00 AM Chat changed event received
 Chat Completions: saving token cache
 [QR2] calling Object
 [QR2] CHAT_CHANGED High-Calcium Education  - 2026-01-18@23h56m34s743ms
 
    setFloatingPrompt entered
    ------
    lastMessageNumber = 237
    metadata_keys.interval = 1
    metadata_keys.position = 1
    metadata_keys.depth = 4
    metadata_keys.role = 0
    ------
    
 Using default persona 1757350262564-John.png
eventemitter.js:135 Event emitted: chatLoaded
eventemitter.js:135 Event emitted: settings_updated
eventemitter.js:135 Event emitted: settings_updated
world-info.js:2237 clearEntryList: 0.010009765625 ms
world-info.js:2237 clearEntryList: 0.00390625 ms
eventemitter.js:135 Event emitted: settings_updated
index.js:356 [WIP] [BOOKS CHANGED] Array(379)
world-info.js:2291 clearEntryList: 3.121826171875 ms
processing.js:983 [NT-Processing] üîß Ensuring lorebook is initialized before scan...
lorebook.js:54 [NT-Lorebook] ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
lorebook.js:55 [NT-Lorebook] ‚ïë initializeLorebook() CALLED
lorebook.js:56 [NT-Lorebook] ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
lorebook.js:59 [NT-Lorebook] ‚ïë Inside withErrorBoundary, getting context...
lorebook.js:61 [NT-Lorebook] ‚ïë Got context: true
lorebook.js:62 [NT-Lorebook] ‚ïë context.chatId: High-Calcium Education  - 2026-01-18@23h56m34s743ms
lorebook.js:71 [NT-Lorebook] ‚ïë Active chat detected, proceeding...
lorebook.js:74 [NT-Lorebook] ‚ïë chatMetadata exists?: true
lorebook.js:83 [NT-Lorebook] ‚ïë Checking for existing bound lorebook...
lorebook.js:84 [NT-Lorebook] ‚ïë chatMetadata[world_info]: NameTracker_High-Calcium Education  - 2026-01-18_23h56m34s743ms (1)
lorebook.js:89 [NT-Lorebook] ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
lorebook.js:90 [NT-Lorebook] ‚ïë ‚úÖ EXISTING LOREBOOK FOUND
lorebook.js:91 [NT-Lorebook] ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
lorebook.js:92 [NT-Lorebook] ‚ïë Lorebook Name: NameTracker_High-Calcium Education  - 2026-01-18_23h56m34s743ms (1)
lorebook.js:93 [NT-Lorebook] ‚ïë Module Variable Set: YES
lorebook.js:94 [NT-Lorebook] ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
debug.js:64 [STnametracker:lorebook] 12:53:28 AM Using existing chat lorebook: NameTracker_High-Calcium Education  - 2026-01-18_23h56m34s743ms (1)
debug.js:64 [STnametracker:WorldInfo] 12:53:28 AM Reloaded editor with lorebook: NameTracker_High-Calcium Education  - 2026-01-18_23h56m34s743ms (1)
processing.js:986 [NT-Processing] ‚úÖ Lorebook initialization complete
debug.js:64 [STnametracker:Settings] 12:53:28 AM [NT-LLMConfig] llmSource setting: Promise
debug.js:64 [STnametracker:Settings] 12:53:28 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 12:53:28 AM [NT-LLMConfig] llmSource setting: Promise
debug.js:64 [STnametracker:Settings] 12:53:28 AM [NT-LLMConfig] extension_settings keys for module: none
llm.js:381 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:381 [NT-MaxContext] Using SillyTavern context
llm.js:381 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:381 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:381 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:381 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:381 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:381 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:381 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:381 [NT-MaxContext] Final detection method: context.maxContext
llm.js:381 [NT-MaxContext] Returning maxPromptLength: 50000
debug.js:64 [STnametracker:Settings] 12:53:30 AM [NT-LLMConfig] llmSource setting: Promise
debug.js:64 [STnametracker:Settings] 12:53:30 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 12:53:30 AM [NT-LLMConfig] llmSource setting: Promise
debug.js:64 [STnametracker:Settings] 12:53:30 AM [NT-LLMConfig] extension_settings keys for module: none
llm.js:381 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:381 [NT-MaxContext] Using SillyTavern context
llm.js:381 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:381 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:381 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:381 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:381 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:381 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:381 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:381 [NT-MaxContext] Final detection method: context.maxContext
llm.js:381 [NT-MaxContext] Returning maxPromptLength: 50000
debug.js:64 [STnametracker:llm] 12:53:30 AM
llm.js:1120 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1124 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1124
llm.js:1126 [NT-Prompt] After await, type: string
llm.js:1137 [NT-Prompt] knownCharacters type: string
llm.js:1149 [NT-Prompt] Final systemPrompt length: 5084
llm.js:1150 [NT-Prompt] Final rosterStr length: 35
llm.js:1151 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
debug.js:64 [STnametracker:llm] 12:53:30 AM
debug.js:64 [STnametracker:llm] 12:53:30 AM Calling LLM with prompt (3876 tokens)...
llm.js:1205 [NT-Prompt] Composition: SYSTEM(5099 chars) + USER(11711 chars) + PREFILL
debug.js:64 [STnametracker:llm] 12:53:30 AM
debug.js:64 [STnametracker:llm] 12:53:30 AM
debug.js:64 [STnametracker:llm] 12:53:30 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 12:53:37 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 2886
llm.js:938 [NT-Parse] First 300 chars: ```json
{
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": "",
      "mentalAge": "",
      "physical": "",
      "personality": "",
      "sexuality": "",
      "raceEthnicity": "",
      "roleSkills": "",
      "relationships": [],
      "confidence": 75
    
llm.js:939 [NT-Parse] Last 100 chars:   "relationships": [
        "John, Jasmine, friend"
      ],
      "confidence": 85
    }
  ]
}
```
llm.js:950 [NT-Parse] After trim, length: 2886
llm.js:959 [NT-Parse] Found markdown code block, extracting JSON
llm.js:961 [NT-Parse] After markdown extraction, length: 1390
llm.js:968 [NT-Parse] Brace search: first={0, last=1389}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 1390
llm.js:977 [NT-Parse] Text after JSON: 
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: 0
llm.js:991 [NT-Parse] Before JSON.parse, length: 1390
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "",       "mentalAge": "",       "physical": "",       "personality": "",       "sexuality": "",       "raceEt
llm.js:993 [NT-Parse] Last 100 chars:      "Jasmine"       ],       "relationships": [         "John, Jasmine, friend"
      ]
    }
  ]
}
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:1023 [NT-Parse] ‚ùå JSON.parse failed: Expected ':' after property name in JSON at position 455 (line 2 column 454)
(anonymous) @ llm.js:1023
llm.js:1024 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1024
llm.js:1025 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "",       "mentalAge": "",       "physical": "",       "personality": "",       "sexuality": "",       "raceEthnicity": "",       "roleSkills": "",       "relationships": [],       "confidence": 75     },     {       "name": "Jasmine",       " lactating breasts are causing her physical and emotional distress, as she struggles to contain their swelling and leaks.",       "raceEthnicity": "Black",       "sexu
llm.js:1026 [NT-Parse] Text being parsed (last 200 chars): t mixed with the underlying tang of nervous sweat.",       "name": "Jasmine",       "aliases": [         "Jasmine"       ],       "relationships": [         "John, Jasmine, friend"
      ]
    }
  ]
}
llm.js:1072 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:789:1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:789:1)
debug.js:55 [STnametracker:ErrorHandler] 12:53:37 AM Error in parseJSONResponse: Object
log @ debug.js:55
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:785 [NT-ST-Call] ‚ùå Attempt 1/2 failed: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
(anonymous) @ llm.js:785
llm.js:786 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:789:1)
(anonymous) @ llm.js:786
llm.js:791 [NT-ST-Call] Waiting 2000ms (~2s) before retry...
llm.js:794 [NT-ST-Call] Waited 2000ms before next attempt
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 12:53:44 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 2262
llm.js:938 [NT-Parse] First 300 chars: ```json
{
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": "",
      "mentalAge": "",
      "physical": "",
      "personality": "",
      "sexuality": "",
      "raceEthnicity": "",
      "roleSkills": "",
      "relationships": [],
      "confidence": 75
    
llm.js:939 [NT-Parse] Last 100 chars: kills": "",
      "relationships": ["Jasmine, John, friend"],
      "confidence": 85
    }
  ]
}
```
llm.js:950 [NT-Parse] After trim, length: 2262
llm.js:959 [NT-Parse] Found markdown code block, extracting JSON
llm.js:961 [NT-Parse] After markdown extraction, length: 1162
llm.js:968 [NT-Parse] Brace search: first={0, last=1161}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 1162
llm.js:977 [NT-Parse] Text after JSON: 
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: 0
llm.js:991 [NT-Parse] Before JSON.parse, length: 1162
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "",       "mentalAge": "",       "physical": "",       "personality": "",       "sexuality": "",       "raceEt
llm.js:993 [NT-Parse] Last 100 chars: ucking lactating.\n",           "timestamp": 0         }       ],       "confidence": 85
    }
  ]
}
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:1023 [NT-Parse] ‚ùå JSON.parse failed: Expected double-quoted property name in JSON at position 995 (line 2 column 994)
(anonymous) @ llm.js:1023
llm.js:1024 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1024
llm.js:1025 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "",       "mentalAge": "",       "physical": "",       "personality": "",       "sexuality": "",       "raceEthnicity": "",       "roleSkills": "",       "relationships": [],       "confidence": 75     },     {       "name": "Jasmine",       " lactating": true,       "physicalAge": "",       "mentalAge": "",       "physical": "striking Black girl with flawless dark ebony skin, built like a goddess‚Äîtall and 
llm.js:1026 [NT-Parse] Text being parsed (last 200 chars): ",       "roleSkills": "",       messages": [
        {
          "content": "I think‚Ä¶ I think I'm fucking lactating.\n",           "timestamp": 0         }       ],       "confidence": 85
    }
  ]
}
llm.js:1072 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:789:1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:789:1)
debug.js:55 [STnametracker:ErrorHandler] 12:53:44 AM Error in parseJSONResponse: Object
log @ debug.js:55
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:785 [NT-ST-Call] ‚ùå Attempt 2/2 failed: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
(anonymous) @ llm.js:785
llm.js:786 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:789:1)
(anonymous) @ llm.js:786
errors.js:61 [STnametracker] Error caught in callSillyTavern: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:789:1)
errors.js:74 [STnametracker] All retries failed in callSillyTavern, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:789:1)
debug.js:55 [STnametracker:ErrorHandler] 12:53:44 AM Error in callSillyTavern: Object
log @ debug.js:55
errors.js:83 [STnametracker] Notifying user of error in callSillyTavern
debug.js:64 [STnametracker:llm] 12:53:44 AM
power-user.js:3349 aborting MUI reset 0
power-user.js:3288 Window resize: 4022x1271 -> 4022x1271
power-user.js:3289 Zoom: 1.5, X:4022, Y:1271, original: 6033x1906.5 
debug.js:64 [STnametracker:Settings] 12:53:45 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 12:53:45 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 12:53:45 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 12:53:45 AM [NT-LLMConfig] extension_settings keys for module: none
llm.js:381 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:381 [NT-MaxContext] Using SillyTavern context
llm.js:381 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:381 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:381 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:381 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:381 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:381 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:381 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:381 [NT-MaxContext] Final detection method: context.maxContext
llm.js:381 [NT-MaxContext] Returning maxPromptLength: 50000
debug.js:64 [STnametracker:llm] 12:53:45 AM
llm.js:1120 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1124 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1124
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1126 [NT-Prompt] After await, type: string
llm.js:1137 [NT-Prompt] knownCharacters type: string
llm.js:1149 [NT-Prompt] Final systemPrompt length: 5084
llm.js:1150 [NT-Prompt] Final rosterStr length: 35
llm.js:1151 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
debug.js:64 [STnametracker:llm] 12:53:45 AM
debug.js:64 [STnametracker:llm] 12:53:45 AM Calling LLM with prompt (3876 tokens)...
llm.js:1205 [NT-Prompt] Composition: SYSTEM(5099 chars) + USER(11711 chars) + PREFILL
debug.js:64 [STnametracker:llm] 12:53:45 AM
debug.js:64 [STnametracker:llm] 12:53:45 AM
debug.js:64 [STnametracker:llm] 12:53:45 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
eventemitter.js:135 Event emitted: settings_updated
debug.js:61 [STnametracker:Notifications] 12:53:48 AM Warning notification: Scan aborted by user
debug.js:64 [STnametracker:llm] 12:53:49 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 2283
llm.js:938 [NT-Parse] First 300 chars: ```json
{
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": "",
      "mentalAge": "",
      "physical": "",
      "personality": "",
      "sexuality": "",
      "raceEthnicity": "",
      "roleSkills": "",
      "relationships": [],
      "confidence": 95
    
llm.js:939 [NT-Parse] Last 100 chars: : "",
      "relationships": ["Jasmine, John, acquaintance"],
      "confidence": 95
    }
  ]
}
```
llm.js:950 [NT-Parse] After trim, length: 2283
llm.js:959 [NT-Parse] Found markdown code block, extracting JSON
llm.js:961 [NT-Parse] After markdown extraction, length: 1161
llm.js:968 [NT-Parse] Brace search: first={0, last=1160}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 1161
llm.js:977 [NT-Parse] Text after JSON: 
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: 0
llm.js:991 [NT-Parse] Before JSON.parse, length: 1161
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "",       "mentalAge": "",       "physical": "",       "personality": "",       "sexuality": "",       "raceEt
llm.js:993 [NT-Parse] Last 100 chars: ses": [],       "relationships": ["Jasmine, John, acquaintance"],       "confidence": 95
    }
  ]
}
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:1023 [NT-Parse] ‚ùå JSON.parse failed: Expected ':' after property name in JSON at position 665 (line 2 column 664)
(anonymous) @ llm.js:1023
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1024 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1024
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1025 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "",       "mentalAge": "",       "physical": "",       "personality": "",       "sexuality": "",       "raceEthnicity": "",       "roleSkills": "",       "relationships": [],       "confidence": 95     },     {       "name": "Jasmine",       " lactating. She's a striking Black girl with flawless dark ebony skin, tall and statuesque, with the toned, powerful legs of a runner and a perfect, heart-shaped bubbl
llm.js:1026 [NT-Parse] Text being parsed (last 200 chars): icity": "Black",       "roleSkills": "",       "physicalAge": "",       "mentalAge": "",       "aliases": [],       "relationships": ["Jasmine, John, acquaintance"],       "confidence": 95
    }
  ]
}
llm.js:1072 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
debug.js:55 [STnametracker:ErrorHandler] 12:53:49 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON. The response‚Ä¶ truncated. Try analyzing fewer messages at once.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:785 [NT-ST-Call] ‚ùå Attempt 1/2 failed: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
(anonymous) @ llm.js:785
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:786 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
(anonymous) @ llm.js:786
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:791 [NT-ST-Call] Waiting 2000ms (~2s) before retry...
llm.js:794 [NT-ST-Call] Waited 2014ms before next attempt
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 12:54:03 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 5270
llm.js:938 [NT-Parse] First 300 chars: ```json
{
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": "",
      "mentalAge": "",
      "physical": "",
      "personality": "",
      "sexuality": "",
      "raceEthnicity": "",
      "roleSkills": "",
      "relationships": [],
      "confidence": 80
    
llm.js:939 [NT-Parse] Last 100 chars:   "relationships": [
        "John, Jasmine, friend"
      ],
      "confidence": 90
    }
  ]
}
```
llm.js:950 [NT-Parse] After trim, length: 5270
llm.js:959 [NT-Parse] Found markdown code block, extracting JSON
llm.js:961 [NT-Parse] After markdown extraction, length: 1062
llm.js:968 [NT-Parse] Brace search: first={0, last=1061}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 1062
llm.js:977 [NT-Parse] Text after JSON: 
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: 0
llm.js:991 [NT-Parse] Before JSON.parse, length: 1062
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "",       "mentalAge": "",       "physical": "",       "personality": "",       "sexuality": "",       "raceEt
llm.js:993 [NT-Parse] Last 100 chars: John, Jasmine, friend",         "Jasmine, John, friend"       ],       "confidence": 85
    }
   ]
}
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:1023 [NT-Parse] ‚ùå JSON.parse failed: Expected ':' after property name in JSON at position 344 (line 2 column 343)
(anonymous) @ llm.js:1023
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1024 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1024
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1025 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "",       "mentalAge": "",       "physical": "",       "personality": "",       "sexuality": "",       "raceEthnicity": "",       "roleSkills": "",       "relationships": [],       "confidence": 80     },     {       "name": "Jasmine",       " lactating",       "aliases": [],       "physicalAge": "",       "mentalAge": "",       "physical": "striking Black girl with flawless dark ebony skin, tall and statue
llm.js:1026 [NT-Parse] Text being parsed (last 200 chars): ng breast pain and swelling, seeking help and comfort from John",
      "relationships": [         "John, Jasmine, friend",         "Jasmine, John, friend"       ],       "confidence": 85
    }
   ]
}
llm.js:1072 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
debug.js:55 [STnametracker:ErrorHandler] 12:54:03 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON. The response‚Ä¶ truncated. Try analyzing fewer messages at once.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:785 [NT-ST-Call] ‚ùå Attempt 2/2 failed: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
(anonymous) @ llm.js:785
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:786 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
(anonymous) @ llm.js:786
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:61 [STnametracker] Error caught in callSillyTavern: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:789:1)
errors.js:74 [STnametracker] All retries failed in callSillyTavern, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async HTMLButtonElement.<anonymous> (ui.js:789:1)
debug.js:55 [STnametracker:ErrorHandler] 12:54:03 AM Error in callSillyTavern: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:83 [STnametracker] Notifying user of error in callSillyTavern
debug.js:64 [STnametracker:Settings] 12:54:03 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 12:54:03 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 12:54:03 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 12:54:03 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 12:54:03 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 12:54:03 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 12:54:03 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 12:54:03 AM [NT-LLMConfig] extension_settings keys for module: none
llm.js:381 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:381 [NT-MaxContext] Using SillyTavern context
llm.js:381 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:381 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:381 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:381 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:381 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:381 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:381 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:381 [NT-MaxContext] Final detection method: context.maxContext
llm.js:381 [NT-MaxContext] Returning maxPromptLength: 50000
llm.js:381 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:381 [NT-MaxContext] Using SillyTavern context
llm.js:381 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:381 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:381 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:381 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:381 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:381 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:381 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:381 [NT-MaxContext] Final detection method: context.maxContext
llm.js:381 [NT-MaxContext] Returning maxPromptLength: 50000
debug.js:64 [STnametracker:llm] 12:54:03 AM
llm.js:1120 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1124 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1124
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
debug.js:64 [STnametracker:llm] 12:54:03 AM
llm.js:1120 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1124 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1124
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1126 [NT-Prompt] After await, type: string
llm.js:1137 [NT-Prompt] knownCharacters type: string
llm.js:1149 [NT-Prompt] Final systemPrompt length: 5084
llm.js:1150 [NT-Prompt] Final rosterStr length: 35
llm.js:1151 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
llm.js:1126 [NT-Prompt] After await, type: string
llm.js:1137 [NT-Prompt] knownCharacters type: string
llm.js:1149 [NT-Prompt] Final systemPrompt length: 5084
llm.js:1150 [NT-Prompt] Final rosterStr length: 35
llm.js:1151 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
debug.js:64 [STnametracker:llm] 12:54:03 AM
debug.js:64 [STnametracker:llm] 12:54:03 AM Calling LLM with prompt (2653 tokens)...
llm.js:1205 [NT-Prompt] Composition: SYSTEM(5099 chars) + USER(6395 chars) + PREFILL
debug.js:64 [STnametracker:llm] 12:54:03 AM
debug.js:64 [STnametracker:llm] 12:54:03 AM
debug.js:64 [STnametracker:llm] 12:54:03 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 12:54:03 AM
debug.js:64 [STnametracker:llm] 12:54:03 AM Calling LLM with prompt (2447 tokens)...
llm.js:1205 [NT-Prompt] Composition: SYSTEM(5099 chars) + USER(5329 chars) + PREFILL
debug.js:64 [STnametracker:llm] 12:54:03 AM
debug.js:64 [STnametracker:llm] 12:54:03 AM
debug.js:64 [STnametracker:llm] 12:54:03 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 12:54:07 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 1419
llm.js:938 [NT-Parse] First 300 chars: ```json
{
  "characters": [
    {
      "name": "Jasmine",
      "aliases": [],
      "physicalAge": "College age",
      "physical": "Has hard thick brown nipples and is leaking through shirt",
      "personality": "Initially prideful but becomes pliant and desperate in vulnerable state",
      phy
llm.js:939 [NT-Parse] Last 100 chars: ed",
      "relationships": ["Jasmine, user, vulnerable to"],
      "confidence": 85
    }
  ]
}
```
llm.js:950 [NT-Parse] After trim, length: 1419
llm.js:959 [NT-Parse] Found markdown code block, extracting JSON
llm.js:961 [NT-Parse] After markdown extraction, length: 810
llm.js:968 [NT-Parse] Brace search: first={0, last=809}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 810
llm.js:977 [NT-Parse] Text after JSON: 
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: 0
llm.js:991 [NT-Parse] Before JSON.parse, length: 810
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "Jasmine",       "aliases": [],       "physicalAge": "College age",       "physical": "Has hard thick brown nipples and is leaking through shirt",       "person
llm.js:993 [NT-Parse] Last 100 chars: e aged",       "relationships": ["Jasmine, user, vulnerable to"],       "confidence": 85
    }
  ]
}
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:1023 [NT-Parse] ‚ùå JSON.parse failed: Expected double-quoted property name in JSON at position 289 (line 2 column 288)
(anonymous) @ llm.js:1023
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1024 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1024
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1025 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "Jasmine",       "aliases": [],       "physicalAge": "College age",       "physical": "Has hard thick brown nipples and is leaking through shirt",       "personality": "Initially prideful but becomes pliant and desperate in vulnerable state",       physicalAge": "College age",       "mentalAge": "",       "physical": "Hard thick brown nipples, leaking through shirt, painful swollen breasts that feel like being inflated with heat",       "personality": "Ini
llm.js:1026 [NT-Parse] Text being parsed (last 200 chars): lity": "",       "raceEthnicity": "",       "roleSkills": "Student at north quad dorm, likely college aged",       "relationships": ["Jasmine, user, vulnerable to"],       "confidence": 85
    }
  ]
}
llm.js:1072 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
debug.js:55 [STnametracker:ErrorHandler] 12:54:07 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON. The response‚Ä¶ truncated. Try analyzing fewer messages at once.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:785 [NT-ST-Call] ‚ùå Attempt 1/2 failed: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
(anonymous) @ llm.js:785
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:786 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
(anonymous) @ llm.js:786
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:791 [NT-ST-Call] Waiting 2000ms (~2s) before retry...
llm.js:794 [NT-ST-Call] Waited 2001ms before next attempt
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 12:54:26 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 8537
llm.js:938 [NT-Parse] First 300 chars: ```json
{
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": null,
      "mentalAge": null,
      "physical": null,
      physicalAge": null,
      "mentalAge": null,
      "physical": null,
      "personality": null,
      "sexuality": null,
      "raceEthnicity
llm.js:939 [NT-Parse] Last 100 chars: ctions:
- Must include user character (John) always
- Only include characters with new information
-
llm.js:950 [NT-Parse] After trim, length: 8537
llm.js:959 [NT-Parse] Found markdown code block, extracting JSON
llm.js:961 [NT-Parse] After markdown extraction, length: 7553
llm.js:968 [NT-Parse] Brace search: first={0, last=7552}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 7553
llm.js:977 [NT-Parse] Text after JSON: 
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: 0
llm.js:991 [NT-Parse] Before JSON.parse, length: 7553
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": null,       physicalAge": null,
      "mentalAge": null,     
llm.js:993 [NT-Parse] Last 100 chars: "relationships": ["Sarah, Maya, friend", "Sarah, Chloe, friend"],       "confidence": 85
    }
  ]
}
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:1023 [NT-Parse] ‚ùå JSON.parse failed: Expected double-quoted property name in JSON at position 151 (line 2 column 150)
(anonymous) @ llm.js:1023
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1024 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1024
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1025 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": null,       physicalAge": null,
      "mentalAge": null,       "physical": null,       "personality": null,       "sexuality": null,       "raceEthnicity": null,       "roleSkills": null,       "relationships": [],       "confidence": 75     },     {       "name": "Jasmine",       "physicalAge": null,       "mentalAge": null,       "physical": "Black girl wit
llm.js:1026 [NT-Parse] Text being parsed (last 200 chars): backpack",       "sexuality": null,       "raceEthnicity": "White",       "roleSkills": null,       "relationships": ["Sarah, Maya, friend", "Sarah, Chloe, friend"],       "confidence": 85
    }
  ]
}
llm.js:1072 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
debug.js:55 [STnametracker:ErrorHandler] 12:54:26 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON. The response‚Ä¶ truncated. Try analyzing fewer messages at once.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:785 [NT-ST-Call] ‚ùå Attempt 1/2 failed: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
(anonymous) @ llm.js:785
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:786 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
(anonymous) @ llm.js:786
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:791 [NT-ST-Call] Waiting 2000ms (~2s) before retry...
llm.js:794 [NT-ST-Call] Waited 2003ms before next attempt
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 12:54:32 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 8960
llm.js:938 [NT-Parse] First 300 chars: ```json
{
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": null,
      "mentalAge": null,
      "physical": null,
      "personality": null,
      "sexuality": null,
      "raceEthnicity": null,
      "roleSkills": null,
      "relationships": [],
      "confid
llm.js:939 [NT-Parse] Last 100 chars: elationships": ["John, Jasmine, helper"],
      "confidence": 75
    },
    {
      "name": "Jasmine
llm.js:950 [NT-Parse] After trim, length: 8960
llm.js:959 [NT-Parse] Found markdown code block, extracting JSON
llm.js:961 [NT-Parse] After markdown extraction, length: 495
llm.js:968 [NT-Parse] Brace search: first={0, last=494}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 495
llm.js:977 [NT-Parse] Text after JSON: 
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: 0
llm.js:991 [NT-Parse] Before JSON.parse, length: 495
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": null,       "personality": null,       "sexuality": null,    
llm.js:993 [NT-Parse] Last 100 chars: amics": "helper role to Jasmine",       "emotion": "cautious but helpful toward Jasmine"
    }
  ]
}
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:1023 [NT-Parse] ‚ùå JSON.parse failed: Expected double-quoted property name in JSON at position 392 (line 2 column 391)
(anonymous) @ llm.js:1023
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1024 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1024
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1025 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": null,       "personality": null,       "sexuality": null,       "raceEthnicity": null,       "roleSkills": null,       "relationships": [],       "confidence": 75     },     {       "relationship": "John, Jasmine, helper",       "confidence": 70,       dynamics": "helper role to Jasmine",       "emotion": "cautious but helpful toward Jasmine"
    }
  ]
}
llm.js:1026 [NT-Parse] Text being parsed (last 200 chars): e": 75     },     {       "relationship": "John, Jasmine, helper",       "confidence": 70,       dynamics": "helper role to Jasmine",       "emotion": "cautious but helpful toward Jasmine"
    }
  ]
}
llm.js:1072 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
debug.js:55 [STnametracker:ErrorHandler] 12:54:32 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON. The response‚Ä¶ truncated. Try analyzing fewer messages at once.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:785 [NT-ST-Call] ‚ùå Attempt 2/2 failed: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
(anonymous) @ llm.js:785
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:786 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
(anonymous) @ llm.js:786
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:61 [STnametracker] Error caught in callSillyTavern: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
errors.js:74 [STnametracker] All retries failed in callSillyTavern, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
debug.js:55 [STnametracker:ErrorHandler] 12:54:32 AM Error in callSillyTavern: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:83 [STnametracker] Notifying user of error in callSillyTavern
debug.js:64 [STnametracker:llm] 12:54:32 AM
debug.js:64 [STnametracker:Settings] 12:54:33 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 12:54:33 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 12:54:33 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 12:54:33 AM [NT-LLMConfig] extension_settings keys for module: none
llm.js:381 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:381 [NT-MaxContext] Using SillyTavern context
llm.js:381 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:381 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:381 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:381 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:381 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:381 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:381 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:381 [NT-MaxContext] Final detection method: context.maxContext
llm.js:381 [NT-MaxContext] Returning maxPromptLength: 50000
debug.js:64 [STnametracker:llm] 12:54:33 AM
llm.js:1120 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1124 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1124
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1126 [NT-Prompt] After await, type: string
llm.js:1137 [NT-Prompt] knownCharacters type: string
llm.js:1149 [NT-Prompt] Final systemPrompt length: 5084
llm.js:1150 [NT-Prompt] Final rosterStr length: 35
llm.js:1151 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
debug.js:64 [STnametracker:llm] 12:54:33 AM
debug.js:64 [STnametracker:llm] 12:54:33 AM Calling LLM with prompt (2447 tokens)...
llm.js:1205 [NT-Prompt] Composition: SYSTEM(5099 chars) + USER(5329 chars) + PREFILL
debug.js:64 [STnametracker:llm] 12:54:33 AM
debug.js:64 [STnametracker:llm] 12:54:33 AM
debug.js:64 [STnametracker:llm] 12:54:33 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 12:54:41 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 4616
llm.js:938 [NT-Parse] First 300 chars: ```json
{
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": null,
      "mentalAge": null,
    "physical": null,
      "personality": null,
      "sexuality": null,
      "raceEthnicity": null,
      "roleSkills": null,
      "relationships": [],
      "confiden
llm.js:939 [NT-Parse] Last 100 chars: hinese",
      "roleSkills": null,
      "relationships": [],
      "confidence": 80
    }
  ]
}
```
llm.js:950 [NT-Parse] After trim, length: 4616
llm.js:959 [NT-Parse] Found markdown code block, extracting JSON
llm.js:961 [NT-Parse] After markdown extraction, length: 1018
llm.js:968 [NT-Parse] Brace search: first={0, last=1017}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 1018
llm.js:977 [NT-Parse] Text after JSON: 
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: 0
llm.js:991 [NT-Parse] Before JSON.parse, length: 1018
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,     "physical": null,       "personality": null,       "sexuality": null,      
llm.js:993 [NT-Parse] Last 100 chars: l,       "relationships": ["Jasmine, John, acquaintance/friend"],       "confidence": 85
    }
  ]
}
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:1023 [NT-Parse] ‚ùå JSON.parse failed: Expected ':' after property name in JSON at position 387 (line 2 column 386)
(anonymous) @ llm.js:1023
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1024 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1024
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1025 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,     "physical": null,       "personality": null,       "sexuality": null,       "raceEthnicity": null,       "roleSkills": null,       "relationships": [],       "confidence": 90     },     {       "name": "Jasmine",       "affected by whatever is causing lactation",       "physicalAge": null,       "mentalAge": null,       "physical": "tall and statuesque, with the toned, pow
llm.js:1026 [NT-Parse] Text being parsed (last 200 chars): nfused, desperate",       "sexuality": null,       "raceEthnicity": "Black",       "roleSkills": null,       "relationships": ["Jasmine, John, acquaintance/friend"],       "confidence": 85
    }
  ]
}
llm.js:1072 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
debug.js:55 [STnametracker:ErrorHandler] 12:54:41 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON. The response‚Ä¶ truncated. Try analyzing fewer messages at once.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:785 [NT-ST-Call] ‚ùå Attempt 2/2 failed: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
(anonymous) @ llm.js:785
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:786 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
(anonymous) @ llm.js:786
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:61 [STnametracker] Error caught in callSillyTavern: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
errors.js:74 [STnametracker] All retries failed in callSillyTavern, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async processing.js:1057:1
debug.js:55 [STnametracker:ErrorHandler] 12:54:41 AM Error in callSillyTavern: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:83 [STnametracker] Notifying user of error in callSillyTavern
debug.js:64 [STnametracker:llm] 12:54:41 AM
debug.js:64 [STnametracker:Settings] 12:54:42 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 12:54:42 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 12:54:42 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 12:54:42 AM [NT-LLMConfig] extension_settings keys for module: none
llm.js:381 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:381 [NT-MaxContext] Using SillyTavern context
llm.js:381 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:381 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:381 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:381 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:381 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:381 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:381 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:381 [NT-MaxContext] Final detection method: context.maxContext
llm.js:381 [NT-MaxContext] Returning maxPromptLength: 50000
debug.js:64 [STnametracker:llm] 12:54:42 AM
llm.js:1120 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1124 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1124
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1126 [NT-Prompt] After await, type: string
llm.js:1137 [NT-Prompt] knownCharacters type: string
llm.js:1149 [NT-Prompt] Final systemPrompt length: 5084
llm.js:1150 [NT-Prompt] Final rosterStr length: 35
llm.js:1151 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
debug.js:64 [STnametracker:llm] 12:54:42 AM
debug.js:64 [STnametracker:llm] 12:54:42 AM Calling LLM with prompt (2653 tokens)...
llm.js:1205 [NT-Prompt] Composition: SYSTEM(5099 chars) + USER(6395 chars) + PREFILL
debug.js:64 [STnametracker:llm] 12:54:42 AM
debug.js:64 [STnametracker:llm] 12:54:42 AM
debug.js:64 [STnametracker:llm] 12:54:42 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 12:54:57 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 9001
llm.js:938 [NT-Parse] First 300 chars: ```json
{
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": null,
      "mentalAge": null,
      "physical": "Offering his arm to help Jasmine",
      "personality": "Helpful, caring",
      "sexuality": null,
      "raceEthnicity": null,
      "roleSkills": nul
llm.js:939 [NT-Parse] Last 100 chars: relationships would be empty?

        Another idea: the instructions require that the relationships
llm.js:950 [NT-Parse] After trim, length: 9001
llm.js:959 [NT-Parse] Found markdown code block, extracting JSON
llm.js:961 [NT-Parse] After markdown extraction, length: 1501
llm.js:968 [NT-Parse] Brace search: first={0, last=1500}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 1501
llm.js:977 [NT-Parse] Text after JSON: 
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: 0
llm.js:991 [NT-Parse] Before JSON.parse, length: 1501
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": "Offering his arm to help Jasmine",       "personality": "Hel
llm.js:993 [NT-Parse] Last 100 chars: dependent on", "Jasmine, John, sharing intimate situation with"],       "confidence": 75
    }
  ]
}
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:1023 [NT-Parse] ‚ùå JSON.parse failed: Expected double-quoted property name in JSON at position 464 (line 2 column 463)
(anonymous) @ llm.js:1023
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1024 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1024
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1025 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": "Offering his arm to help Jasmine",       "personality": "Helpful, caring",       "sexuality": null,       "raceEthnicity": null,       "roleSkills": null,       "relationships": ["John, Jasmine, friend", "John, Jasmine, helper"],       "confidence": 80     },     {       "name": "Jasmine",       "physicalAge": null,       lactation changes, breast tenderness
llm.js:1026 [NT-Parse] Text being parsed (last 200 chars):     "roleSkills": null,       "relationships": ["Jasmine, John, seeking help from", "Jasmine, John, dependent on", "Jasmine, John, sharing intimate situation with"],       "confidence": 75
    }
  ]
}
llm.js:1072 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
debug.js:55 [STnametracker:ErrorHandler] 12:54:57 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON. The response‚Ä¶ truncated. Try analyzing fewer messages at once.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:785 [NT-ST-Call] ‚ùå Attempt 1/2 failed: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
(anonymous) @ llm.js:785
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:786 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
(anonymous) @ llm.js:786
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:791 [NT-ST-Call] Waiting 2000ms (~2s) before retry...
llm.js:794 [NT-ST-Call] Waited 2002ms before next attempt
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 12:55:00 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 6425
llm.js:938 [NT-Parse] First 300 chars: ```json
{
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": "",
      "mentalAge": "",
      "physical": "",
      "personality": "",
      "sexuality": "",
      "raceEthnicity": "",
      "roleSkills": "",
      "relationships": [],
      "confidence": 90
    
llm.js:939 [NT-Parse] Last 100 chars: use", "Writing novels", "Leading group", "Met at bar"]

Your response must start with { immediately.
llm.js:950 [NT-Parse] After trim, length: 6425
llm.js:959 [NT-Parse] Found markdown code block, extracting JSON
llm.js:961 [NT-Parse] After markdown extraction, length: 3082
llm.js:968 [NT-Parse] Brace search: first={0, last=2684}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 2685
llm.js:977 [NT-Parse] Text after JSON:  or ]
- EVERY property must have a colon: "name": "value" (not "name" "value")
- NO markdown, NO exp
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: -1
llm.js:991 [NT-Parse] Before JSON.parse, length: 2684
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "",       "mentalAge": "",       "physical": "",       "personality": "",       "sexuality": "",       "raceEt
llm.js:993 [NT-Parse] Last 100 chars: lo\""
- NO control characters (line breaks, tabs) inside string values
- NO trailing commas before }
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:1023 [NT-Parse] ‚ùå JSON.parse failed: Expected ',' or ']' after array element in JSON at position 496 (line 2 column 495)
(anonymous) @ llm.js:1023
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1024 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1024
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1025 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "",       "mentalAge": "",       "physical": "",       "personality": "",       "sexuality": "",       "raceEthnicity": "",       "roleSkills": "",       "relationships": [],       "confidence": 90     },     {       "name": "Jasmine",       "multipleAliases": []     },     {       "name": "Maya",       "aliases": [],       "physicalAge": "",       "lacks physical details": ""     },       "personality": ""
llm.js:1026 [NT-Parse] Text being parsed (last 200 chars): aliases", etc. - ALL string values MUST use double quotes and escape internal quotes: "He said \"hello\""
- NO control characters (line breaks, tabs) inside string values
- NO trailing commas before }
llm.js:1072 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
debug.js:55 [STnametracker:ErrorHandler] 12:55:00 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON. The response‚Ä¶ truncated. Try analyzing fewer messages at once.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:785 [NT-ST-Call] ‚ùå Attempt 1/2 failed: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
(anonymous) @ llm.js:785
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:786 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
(anonymous) @ llm.js:786
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:791 [NT-ST-Call] Waiting 2000ms (~2s) before retry...
llm.js:794 [NT-ST-Call] Waited 2009ms before next attempt
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 12:55:03 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 1841
llm.js:938 [NT-Parse] First 300 chars: ```json
{
  "characters": [
    {
      "name": "Jasmine",
      "aliases": [],
      "physicalAge": "unknown",
      "mentalAge": "unknown",
        "physical": "brown nipples, leaking breasts, wearing yoga pants",
      "physicalAge": "college student",
      "physical": "college student",
      "
llm.js:939 [NT-Parse] Last 100 chars:  "student",
      "relationships": ["John, Jasmine, helper"],
      "confidence": 80
    }
  ]
}
```
llm.js:950 [NT-Parse] After trim, length: 1841
llm.js:959 [NT-Parse] Found markdown code block, extracting JSON
llm.js:961 [NT-Parse] After markdown extraction, length: 981
llm.js:968 [NT-Parse] Brace search: first={0, last=980}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 981
llm.js:977 [NT-Parse] Text after JSON: 
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: 0
llm.js:991 [NT-Parse] Before JSON.parse, length: 981
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "Jasmine",       "aliases": [],       "physicalAge": "unknown",       "mentalAge": "unknown",         "physical": "brown nipples, leaking breasts, wearing yoga 
llm.js:993 [NT-Parse] Last 100 chars:       "roleSkills": "college student",       "relationships": [],       "confidence": 85
    }
  ]
}
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:999 [NT-Parse] ‚úÖ Successfully parsed JSON
llm.js:1000 [NT-Parse] Parsed type: object
llm.js:1001 [NT-Parse] Parsed keys: ['characters']
llm.js:1002 [NT-Parse] Full parsed object: {"characters":[{"name":"Jasmine","aliases":[],"physicalAge":"Current Lorebook Entries","mentalAge":"Physical description of her body, with brown nipples, leaking breasts, wearing yoga pants","physical":"Current Lorebook Entries","personality":"Initially prideful and independent but vulnerable and pliant when in pain and seeking help","sexuality":"unknown","raceEthnicity":"unknown","roleSkills":"college student","relationships":[],"confidence":85}]}
llm.js:1019 [NT-Parse] ‚úÖ Valid response with 1 characters
llm.js:1020 [NT-Parse] ========== PARSE END (SUCCESS) ==========
llm.js:773 [NT-ST-Call] parseJSONResponse returned type: object
llm.js:774 [NT-ST-Call] parseJSONResponse returned value: {characters: Array(1)}
llm.js:775 [NT-ST-Call] parsed.characters exists?: true
llm.js:776 [NT-ST-Call] parsed.characters type: object
llm.js:777 [NT-ST-Call] parsed.characters is Array?: true
llm.js:779 [NT-ST-Call] ‚úÖ Successfully parsed on attempt 2 characters: 1
llm.js:780 [NT-ST-Call] Parsed result: {"characters":[{"name":"Jasmine","aliases":[],"physicalAge":"Current Lorebook Entries","mentalAge":"Physical description of her body, with brown nipples, leaking breasts, wearing yoga pants","physical":"Current Lorebook Entries","personality":"Initially prideful and independent but vulnerable and pl
debug.js:64 [STnametracker:llm] 12:55:03 AM
debug.js:64 [STnametracker:llm] 12:55:15 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 5951
llm.js:938 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": null,
      "mentalAge": null,
      "physical": null,
      "personality": null,
      "sexuality": null,
      "raceEthnicity": null,
      "roleSkills": null,
      "relationships": [],
      "confidence": 9
llm.js:939 [NT-Parse] Last 100 chars: eSkills": null,
      "relationships": ["Jasmine, John, friend"],
      "confidence": 85
    }
  ]
}
llm.js:950 [NT-Parse] After trim, length: 5951
llm.js:968 [NT-Parse] Brace search: first={0, last=5950}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 5951
llm.js:977 [NT-Parse] Text after JSON: 
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: 0
llm.js:991 [NT-Parse] Before JSON.parse, length: 5951
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": null,       "personality": null,       "sexuality": null,    
llm.js:993 [NT-Parse] Last 100 chars: eSkills": null,       "relationships": ["Jasmine, John, friend"],       "confidence": 85
    }
  ]
}
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:1023 [NT-Parse] ‚ùå JSON.parse failed: Unexpected token 'c', ..."ntalAge": character""... is not valid JSON
(anonymous) @ llm.js:1023
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1024 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1024
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1025 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": null,       "mentalAge": null,       "physical": null,       "personality": null,       "sexuality": null,       "raceEthnicity": null,       "roleSkills": null,       "relationships": [],       "confidence": 90     },     {       "name": "Jasmine",       "physicalAge": null,       "aliases": [],       "mentalAge": null,       "physical": "A striking Black girl with flawless dark ebony skin. Built like a go
llm.js:1026 [NT-Parse] Text being parsed (last 200 chars):  now panicked and embarrassed.",       "sexuality": null,       "raceEthnicity": "Black",       "roleSkills": null,       "relationships": ["Jasmine, John, friend"],       "confidence": 85
    }
  ]
}
llm.js:1072 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
debug.js:55 [STnametracker:ErrorHandler] 12:55:15 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON. The response‚Ä¶ truncated. Try analyzing fewer messages at once.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:785 [NT-ST-Call] ‚ùå Attempt 2/2 failed: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
(anonymous) @ llm.js:785
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:786 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
(anonymous) @ llm.js:786
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:61 [STnametracker] Error caught in callSillyTavern: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
errors.js:74 [STnametracker] All retries failed in callSillyTavern, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
debug.js:55 [STnametracker:ErrorHandler] 12:55:15 AM Error in callSillyTavern: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
errors.js:83 [STnametracker] Notifying user of error in callSillyTavern
debug.js:64 [STnametracker:Settings] 12:55:15 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 12:55:15 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 12:55:15 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 12:55:15 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 12:55:15 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 12:55:15 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 12:55:15 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 12:55:15 AM [NT-LLMConfig] extension_settings keys for module: none
llm.js:381 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:381 [NT-MaxContext] Using SillyTavern context
llm.js:381 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:381 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:381 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:381 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:381 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:381 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:381 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:381 [NT-MaxContext] Final detection method: context.maxContext
llm.js:381 [NT-MaxContext] Returning maxPromptLength: 50000
llm.js:381 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:381 [NT-MaxContext] Using SillyTavern context
llm.js:381 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:381 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:381 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:381 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:381 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:381 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:381 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:381 [NT-MaxContext] Final detection method: context.maxContext
llm.js:381 [NT-MaxContext] Returning maxPromptLength: 50000
debug.js:64 [STnametracker:llm] 12:55:15 AM
llm.js:1120 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1124 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1124
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
debug.js:64 [STnametracker:llm] 12:55:15 AM
llm.js:1120 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1124 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1124
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
llm.js:1126 [NT-Prompt] After await, type: string
llm.js:1137 [NT-Prompt] knownCharacters type: string
llm.js:1149 [NT-Prompt] Final systemPrompt length: 5084
llm.js:1150 [NT-Prompt] Final rosterStr length: 35
llm.js:1151 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
llm.js:1126 [NT-Prompt] After await, type: string
llm.js:1137 [NT-Prompt] knownCharacters type: string
llm.js:1149 [NT-Prompt] Final systemPrompt length: 5084
llm.js:1150 [NT-Prompt] Final rosterStr length: 35
llm.js:1151 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
debug.js:64 [STnametracker:llm] 12:55:15 AM
debug.js:64 [STnametracker:llm] 12:55:15 AM Calling LLM with prompt (1334 tokens)...
llm.js:1205 [NT-Prompt] Composition: SYSTEM(5099 chars) + USER(530 chars) + PREFILL
debug.js:64 [STnametracker:llm] 12:55:15 AM
debug.js:64 [STnametracker:llm] 12:55:15 AM
debug.js:64 [STnametracker:llm] 12:55:15 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 12:55:15 AM
debug.js:64 [STnametracker:llm] 12:55:15 AM Calling LLM with prompt (2543 tokens)...
llm.js:1205 [NT-Prompt] Composition: SYSTEM(5099 chars) + USER(5879 chars) + PREFILL
debug.js:64 [STnametracker:llm] 12:55:15 AM
debug.js:64 [STnametracker:llm] 12:55:15 AM
debug.js:64 [STnametracker:llm] 12:55:15 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 12:55:16 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 367
llm.js:938 [NT-Parse] First 300 chars: ```json
{
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": "college student",
      "mentalAge": null,
      "physical": null,
      "personality": null,
      "sexuality": null,
      "raceEthnicity": null,
      "roleSkills": "college student living in dorms"
llm.js:939 [NT-Parse] Last 100 chars: "college student living in dorms",
      "relationships": [],
      "confidence": 80
    }
  ]
}
```
llm.js:950 [NT-Parse] After trim, length: 367
llm.js:959 [NT-Parse] Found markdown code block, extracting JSON
llm.js:961 [NT-Parse] After markdown extraction, length: 355
llm.js:968 [NT-Parse] Brace search: first={0, last=354}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 355
llm.js:977 [NT-Parse] Text after JSON: 
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: 0
llm.js:991 [NT-Parse] Before JSON.parse, length: 355
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "college student",       "mentalAge": null,       "physical": null,       "personality": null,       "sexualit
llm.js:993 [NT-Parse] Last 100 chars: s": "college student living in dorms",       "relationships": [],       "confidence": 80
    }
  ]
}
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:999 [NT-Parse] ‚úÖ Successfully parsed JSON
llm.js:1000 [NT-Parse] Parsed type: object
llm.js:1001 [NT-Parse] Parsed keys: ['characters']
llm.js:1002 [NT-Parse] Full parsed object: {"characters":[{"name":"John","aliases":[],"physicalAge":"college student","mentalAge":null,"physical":null,"personality":null,"sexuality":null,"raceEthnicity":null,"roleSkills":"college student living in dorms","relationships":[],"confidence":80}]}
llm.js:1019 [NT-Parse] ‚úÖ Valid response with 1 characters
llm.js:1020 [NT-Parse] ========== PARSE END (SUCCESS) ==========
llm.js:773 [NT-ST-Call] parseJSONResponse returned type: object
llm.js:774 [NT-ST-Call] parseJSONResponse returned value: {characters: Array(1)}
llm.js:775 [NT-ST-Call] parsed.characters exists?: true
llm.js:776 [NT-ST-Call] parsed.characters type: object
llm.js:777 [NT-ST-Call] parsed.characters is Array?: true
llm.js:779 [NT-ST-Call] ‚úÖ Successfully parsed on attempt 1 characters: 1
llm.js:780 [NT-ST-Call] Parsed result: {"characters":[{"name":"John","aliases":[],"physicalAge":"college student","mentalAge":null,"physical":null,"personality":null,"sexuality":null,"raceEthnicity":null,"roleSkills":"college student living in dorms","relationships":[],"confidence":80}]}
debug.js:64 [STnametracker:llm] 12:55:16 AM
debug.js:64 [STnametracker:llm] 12:55:20 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 2202
llm.js:938 [NT-Parse] First 300 chars: ```json
{
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": "Adult",
      "mentalAge": "Adult",
      "physical": "Average male student",
      "personality": "Observant, caring, concerned for others",
      outOfBounds: "sexuality": "Heterosexual (assumed cont
llm.js:939 [NT-Parse] Last 100 chars:  "Student",
      "relationships": ["Jasmine, John, friend"],
      "confidence": 95
    }
  ]
}
```
llm.js:950 [NT-Parse] After trim, length: 2202
llm.js:959 [NT-Parse] Found markdown code block, extracting JSON
llm.js:961 [NT-Parse] After markdown extraction, length: 1239
llm.js:968 [NT-Parse] Brace search: first={0, last=1238}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 1239
llm.js:977 [NT-Parse] Text after JSON: 
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: 0
llm.js:991 [NT-Parse] Before JSON.parse, length: 1239
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "Adult",       "mentalAge": "Adult",       "physical": "Average male student",       "personality": "Observant
llm.js:993 [NT-Parse] Last 100 chars: ently leaking",       "relationships": ["Jasmine, John, friend"],       "confidence": 95
    }
  ]
}
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:1023 [NT-Parse] ‚ùå JSON.parse failed: Expected double-quoted property name in JSON at position 239 (line 2 column 238)
(anonymous) @ llm.js:1023
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
llm.js:1024 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1024
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
llm.js:1025 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "Adult",       "mentalAge": "Adult",       "physical": "Average male student",       "personality": "Observant, caring, concerned for others",       outOfBounds: "sexuality": "Heterosexual (assumed context)",       "raceEthnicity": "Caucasian (implied context)",       "roleSkills": "Student at the university",       "relationships": [],       "confidence": 90     },     {       "names": "Jasmine",       "al
llm.js:1026 [NT-Parse] Text being parsed (last 200 chars): t-shaped bubble butt that strains against yoga pants, DD-cup breasts that look enormous and are currently leaking",       "relationships": ["Jasmine, John, friend"],       "confidence": 95
    }
  ]
}
llm.js:1072 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
debug.js:55 [STnametracker:ErrorHandler] 12:55:20 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON. The response‚Ä¶ truncated. Try analyzing fewer messages at once.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:785 [NT-ST-Call] ‚ùå Attempt 1/2 failed: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
(anonymous) @ llm.js:785
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
llm.js:786 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
(anonymous) @ llm.js:786
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
llm.js:791 [NT-ST-Call] Waiting 2000ms (~2s) before retry...
llm.js:794 [NT-ST-Call] Waited 2015ms before next attempt
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 12:55:25 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 1548
llm.js:938 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "John",
      "aliases": [],
      "physicalAge": "",
      "mentalAge": "",
      "physical": "",
      "personality": "",
      "sexuality": "",
      "raceEthnicity": "",
      "roleSkills": "",
      "relationships": [],
      "confidence": 75
    },
    {
llm.js:939 [NT-Parse] Last 100 chars: etic build",
      "relationships": ["Jasmine, John, confidant"],
      "confidence": 90
    }
  ]
}
llm.js:950 [NT-Parse] After trim, length: 1548
llm.js:968 [NT-Parse] Brace search: first={0, last=1547}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 1548
llm.js:977 [NT-Parse] Text after JSON: 
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: 0
llm.js:991 [NT-Parse] Before JSON.parse, length: 1548
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "",       "mentalAge": "",       "physical": "",       "personality": "",       "sexuality": "",       "raceEt
llm.js:993 [NT-Parse] Last 100 chars: etic build",       "relationships": ["Jasmine, John, confidant"],       "confidence": 90
    }
  ]
}
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:1023 [NT-Parse] ‚ùå JSON.parse failed: Expected double-quoted property name in JSON at position 332 (line 2 column 331)
(anonymous) @ llm.js:1023
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
llm.js:1024 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1024
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
llm.js:1025 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "John",       "aliases": [],       "physicalAge": "",       "mentalAge": "",       "physical": "",       "personality": "",       "sexuality": "",       "raceEthnicity": "",       "roleSkills": "",       "relationships": [],       "confidence": 75     },     {       "name": "Jasmine",       message. Her appearance is described as a striking Black girl with flawless dark ebony skin, tall and statuesque with toned legs, powerful runner's legs, and a perfect 
llm.js:1026 [NT-Parse] Text being parsed (last 200 chars): , shame, and need",       "sexuality": "",       "raceEthnicity": "Black",       "roleSkills": "Athletic build",       "relationships": ["Jasmine, John, confidant"],       "confidence": 90
    }
  ]
}
llm.js:1072 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
debug.js:55 [STnametracker:ErrorHandler] 12:55:25 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON. The response‚Ä¶ truncated. Try analyzing fewer messages at once.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:785 [NT-ST-Call] ‚ùå Attempt 2/2 failed: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
(anonymous) @ llm.js:785
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
llm.js:786 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
(anonymous) @ llm.js:786
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
errors.js:61 [STnametracker] Error caught in callSillyTavern: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
errors.js:74 [STnametracker] All retries failed in callSillyTavern, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 0)
debug.js:55 [STnametracker:ErrorHandler] 12:55:25 AM Error in callSillyTavern: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
errors.js:83 [STnametracker] Notifying user of error in callSillyTavern
debug.js:64 [STnametracker:llm] 12:55:25 AM
debug.js:64 [STnametracker:Settings] 12:55:26 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 12:55:26 AM [NT-LLMConfig] extension_settings keys for module: none
debug.js:64 [STnametracker:Settings] 12:55:26 AM [NT-LLMConfig] llmSource setting: Promise¬†{<pending>}
debug.js:64 [STnametracker:Settings] 12:55:26 AM [NT-LLMConfig] extension_settings keys for module: none
llm.js:381 [NT-MaxContext] Starting context detection for LLM source: sillytavern
llm.js:381 [NT-MaxContext] Using SillyTavern context
llm.js:381 [NT-MaxContext] Successfully retrieved SillyTavern context
llm.js:381 [NT-MaxContext] Available context properties: maxContext, tokenizers, getTextTokens, getTokenCount, getTokenCountAsync, extensionPrompts, setExtensionPrompt, getTokenizerModel, generateQuietPrompt, getWorldInfoPrompt
llm.js:381 [NT-MaxContext] Method 1: Checking context.maxContext...
llm.js:381 [NT-MaxContext] ‚úì Method 1 SUCCESS: context.maxContext = 65024
llm.js:381 [NT-MaxContext] Detected maxContext: 65024 (type: number)
llm.js:381 [NT-MaxContext] Extension will request max 2048 tokens for analysis responses (15% of context, capped at 2048)
llm.js:381 [NT-MaxContext] Token allocation: maxContext=65024, reserved=3048, available=61976
llm.js:381 [NT-MaxContext] Final detection method: context.maxContext
llm.js:381 [NT-MaxContext] Returning maxPromptLength: 50000
debug.js:64 [STnametracker:llm] 12:55:26 AM
llm.js:1120 [NT-Prompt] getSystemPrompt() returned type: object
llm.js:1124 [NT-Prompt] getSystemPrompt returned Promise, awaiting...
(anonymous) @ llm.js:1124
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
llm.js:1126 [NT-Prompt] After await, type: string
llm.js:1137 [NT-Prompt] knownCharacters type: string
llm.js:1149 [NT-Prompt] Final systemPrompt length: 5084
llm.js:1150 [NT-Prompt] Final rosterStr length: 35
llm.js:1151 [NT-Prompt] systemPrompt preview: Extract character information from messages and return ONLY a JSON object.

[CURRENT LOREBOOK ENTRIE
debug.js:64 [STnametracker:llm] 12:55:26 AM
debug.js:64 [STnametracker:llm] 12:55:26 AM Calling LLM with prompt (2543 tokens)...
llm.js:1205 [NT-Prompt] Composition: SYSTEM(5099 chars) + USER(5879 chars) + PREFILL
debug.js:64 [STnametracker:llm] 12:55:26 AM
debug.js:64 [STnametracker:llm] 12:55:26 AM
debug.js:64 [STnametracker:llm] 12:55:26 AM
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 12:55:44 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 8782
llm.js:938 [NT-Parse] First 300 chars: ```json
{
  "characters": [
    {
      "name": "Jasmine",
      "aliases": [],
      "physicalAge": "unknown",
      "mentalAge": "unknown",
      "physical": "striking Black girl with flawless dark ebony skin, built like a goddess‚Äîtall and statuesque, with the toned, message 2, message 3: athletic
llm.js:939 [NT-Parse] Last 100 chars: ntalAge": "unknown",
      "physical": "male student who notices Jasmine's distress and calls out to
llm.js:950 [NT-Parse] After trim, length: 8782
llm.js:959 [NT-Parse] Found markdown code block, extracting JSON
llm.js:961 [NT-Parse] After markdown extraction, length: 1434
llm.js:968 [NT-Parse] Brace search: first={0, last=1433}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 1434
llm.js:977 [NT-Parse] Text after JSON: 
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: 0
llm.js:991 [NT-Parse] Before JSON.parse, length: 1434
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "Jasmine",       "aliases": [],       "physicalAge": "unknown",       "mentalAge": "unknown",       "physical": "striking Black girl with flawless dark ebony sk
llm.js:993 [NT-Parse] Last 100 chars:       "relationships": ["John, Jasmine, acquaintance or friend"],       "confidence": 90
    }
  ]
}
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:1023 [NT-Parse] ‚ùå JSON.parse failed: Expected double-quoted property name in JSON at position 693 (line 2 column 692)
(anonymous) @ llm.js:1023
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
llm.js:1024 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1024
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
llm.js:1025 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "Jasmine",       "aliases": [],       "physicalAge": "unknown",       "mentalAge": "unknown",       "physical": "striking Black girl with flawless dark ebony skin, built like a goddess‚Äîtall and statuesque, with the toned, message 2, message 3: athletic legs of a runner, a perfect, heart-shaped bubble butt, DD-cup breasts that are enormous and practically spilling out of her sports bra, nipples clearly hard, walking with stiff-legged gait and one hand press
llm.js:1026 [NT-Parse] Text being parsed (last 200 chars): distress and reached out to help",       "raceEthnicity": "unknown",       "roleSkills": "student",       "relationships": ["John, Jasmine, acquaintance or friend"],       "confidence": 90
    }
  ]
}
llm.js:1072 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
debug.js:55 [STnametracker:ErrorHandler] 12:55:44 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON. The response‚Ä¶ truncated. Try analyzing fewer messages at once.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:785 [NT-ST-Call] ‚ùå Attempt 1/2 failed: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
(anonymous) @ llm.js:785
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
llm.js:786 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
(anonymous) @ llm.js:786
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
llm.js:791 [NT-ST-Call] Waiting 2000ms (~2s) before retry...
llm.js:794 [NT-ST-Call] Waited 2014ms before next attempt
script.js:4002 [TempResponseLength] Saved original response length: 16256
eventemitter.js:135 Event emitted: generate_after_combine_prompts
eventemitter.js:135 Event emitted: text_completion_settings_ready
script.js:4023 [TempResponseLength] Restored original response length: 16256
debug.js:64 [STnametracker:llm] 12:55:49 AM
llm.js:920 [NT-Parse] ========== PARSE START ==========
llm.js:921 [NT-Parse] Input type: string
llm.js:922 [NT-Parse] Input is null?: false
llm.js:923 [NT-Parse] Input is undefined?: false
llm.js:936 [NT-Parse] Input length: 1403
llm.js:938 [NT-Parse] First 300 chars: {
  "characters": [
    {
      "name": "Jasmine",
      "aliases": [],
      "physicalAge": "college",
      "mentalAge": "college",
      "physical": "Tall and statuesque Black girl with flawless dark ebony skin, athletic build with powerful legs and a heart-shaped bubble butt. Very large DD-cup b
llm.js:939 [NT-Parse] Last 100 chars: ationships": ["John, Jasmine, friend (implied by conversation)"],
      "confidence": 85
    }
  ]
}
llm.js:950 [NT-Parse] After trim, length: 1403
llm.js:968 [NT-Parse] Brace search: first={0, last=1402}
llm.js:975 [NT-Parse] Text before JSON: 
llm.js:976 [NT-Parse] Extracted JSON length: 1403
llm.js:977 [NT-Parse] Text after JSON: 
llm.js:885 [NT-Repair] Starting JSON repair...
llm.js:908 [NT-Repair] Applied repairs, length change: 0
llm.js:991 [NT-Parse] Before JSON.parse, length: 1403
llm.js:992 [NT-Parse] First 200 chars: {
  "characters": [     {       "name": "Jasmine",       "aliases": [],       "physicalAge": "college",       "mentalAge": "college",       "physical": "Tall and statuesque Black girl with flawless da
llm.js:993 [NT-Parse] Last 100 chars: ationships": ["John, Jasmine, friend (implied by conversation)"],       "confidence": 85
    }
  ]
}
llm.js:996 [NT-Parse] Attempting JSON.parse...
llm.js:1023 [NT-Parse] ‚ùå JSON.parse failed: Expected ':' after property name in JSON at position 1220 (line 2 column 1219)
(anonymous) @ llm.js:1023
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
llm.js:1024 [NT-Parse] ‚ùå Error at position: SyntaxError
(anonymous) @ llm.js:1024
withErrorBoundary @ errors.js:53
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
llm.js:1025 [NT-Parse] Text being parsed (first 500 chars): {
  "characters": [     {       "name": "Jasmine",       "aliases": [],       "physicalAge": "college",       "mentalAge": "college",       "physical": "Tall and statuesque Black girl with flawless dark ebony skin, athletic build with powerful legs and a heart-shaped bubble butt. Very large DD-cup breasts that strain against her sports bra. Currently lactating.",       "personality": "Usually confident and self-assured, but currently panicked and flustered due to her unexplained lactation.",    
llm.js:1026 [NT-Parse] Text being parsed (last 200 chars): tion between us.",       "raceEthnicity": "Human",       "roleSkills": "College student",       "relationships": ["John, Jasmine, friend (implied by conversation)"],       "confidence": 85
    }
  ]
}
llm.js:1072 [NT-Parse] ========== PARSE END (FAILED) ==========
errors.js:61 [STnametracker] Error caught in parseJSONResponse: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
errors.js:74 [STnametracker] All retries failed in parseJSONResponse, tracking error: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
debug.js:55 [STnametracker:ErrorHandler] 12:55:49 AM Error in parseJSONResponse: {code: undefined, message: 'Failed to parse LLM response as JSON. The response‚Ä¶ truncated. Try analyzing fewer messages at once.', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
parseJSONResponse @ llm.js:919
(anonymous) @ llm.js:772
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
errors.js:83 [STnametracker] Notifying user of error in parseJSONResponse
llm.js:785 [NT-ST-Call] ‚ùå Attempt 2/2 failed: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
(anonymous) @ llm.js:785
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
llm.js:786 [NT-ST-Call] Error details: NameTrackerError: Failed to parse LLM response as JSON. The response may be too long or truncated. Try analyzing fewer messages at once.
    at llm.js:1073:1
    at ErrorHandler.withErrorBoundary (errors.js:53:1)
    at parseJSONResponse (llm.js:919:29)
    at llm.js:772:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
(anonymous) @ llm.js:786
await in (anonymous)
withErrorBoundary @ errors.js:53
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
errors.js:61 [STnametracker] Error caught in callSillyTavern: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
errors.js:74 [STnametracker] All retries failed in callSillyTavern, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
debug.js:55 [STnametracker:ErrorHandler] 12:55:49 AM Error in callSillyTavern: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
callSillyTavern @ llm.js:633
(anonymous) @ llm.js:1216
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
errors.js:83 [STnametracker] Notifying user of error in callSillyTavern
errors.js:61 [STnametracker] Error caught in callLLMAnalysis: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
errors.js:74 [STnametracker] All retries failed in callLLMAnalysis, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
debug.js:55 [STnametracker:ErrorHandler] 12:55:49 AM Error in callLLMAnalysis: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
errors.js:83 [STnametracker] Notifying user of error in callLLMAnalysis
errors.js:61 [STnametracker] Error caught in callLLMAnalysis: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
errors.js:74 [STnametracker] All retries failed in callLLMAnalysis, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
debug.js:55 [STnametracker:ErrorHandler] 12:55:49 AM Error in callLLMAnalysis: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1241
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
errors.js:83 [STnametracker] Notifying user of error in callLLMAnalysis
errors.js:61 [STnametracker] Error caught in callLLMAnalysis: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
errors.js:74 [STnametracker] All retries failed in callLLMAnalysis, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
debug.js:55 [STnametracker:ErrorHandler] 12:55:49 AM Error in callLLMAnalysis: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
await in withErrorBoundary
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1230
await in (anonymous)
withErrorBoundary @ errors.js:53
callLLMAnalysis @ llm.js:1089
(anonymous) @ llm.js:1240
errors.js:83 [STnametracker] Notifying user of error in callLLMAnalysis
errors.js:61 [STnametracker] Error caught in callLLMAnalysis: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
errors.js:74 [STnametracker] All retries failed in callLLMAnalysis, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
debug.js:55 [STnametracker:ErrorHandler] 12:55:49 AM Error in callLLMAnalysis: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
errors.js:83 [STnametracker] Notifying user of error in callLLMAnalysis
errors.js:61 [STnametracker] Error caught in callLLMAnalysis: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
errors.js:74 [STnametracker] All retries failed in callLLMAnalysis, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
debug.js:55 [STnametracker:ErrorHandler] 12:55:49 AM Error in callLLMAnalysis: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
errors.js:83 [STnametracker] Notifying user of error in callLLMAnalysis
errors.js:61 [STnametracker] Error caught in callLLMAnalysis: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
errors.js:74 [STnametracker] All retries failed in callLLMAnalysis, tracking error: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
debug.js:55 [STnametracker:ErrorHandler] 12:55:49 AM Error in callLLMAnalysis: {code: 'JSON_PARSE_FAILED', message: 'Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)', context: {‚Ä¶}}
log @ debug.js:55
error @ debug.js:28
trackError @ errors.js:141
withErrorBoundary @ errors.js:75
errors.js:83 [STnametracker] Notifying user of error in callLLMAnalysis
processing.js:1081 Error processing batch 1: NameTrackerError: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
    at llm.js:815:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1216:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async Promise.all (:8008/index 1)
    at async llm.js:1239:1
    at async ErrorHandler.withErrorBoundary (errors.js:53:1)
    at async llm.js:1230:1
(anonymous) @ processing.js:1081
debug.js:55 [STnametracker:Notifications] 12:55:49 AM Error notification: Batch 1 failed: Failed to parse LLM response as JSON after 2 attempts (non-interactive mode)
log @ debug.js:55
error @ debug.js:28
error @ notifications.js:73
(anonymous) @ processing.js:1083
debug.js:64 [STnametracker:processing] 12:55:49 AM
settings.js:128 [STnametracker] extension_settings not available for saving
(anonymous) @ settings.js:128
withErrorBoundary @ errors.js:53
set_settings @ settings.js:125
(anonymous) @ processing.js:1092
ui.js:47 [NT-UI] üü° updateCharacterList() called
ui.js:49 [NT-UI] üü° getCharacters() returned: []
ui.js:51 [NT-UI] üü° Character count: 0
debug.js:61 [STnametracker:Notifications] 12:55:49 AM Warning notification: Full chat scan complete!

Messages: 478
Batches: 0/48
Characters found: 0
Failed: 1
ui.js:47 [NT-UI] üü° updateCharacterList() called
ui.js:49 [NT-UI] üü° getCharacters() returned: []
ui.js:51 [NT-UI] üü° Character count: 0
